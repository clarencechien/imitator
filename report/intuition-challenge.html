<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç›´è¦ºç‹è€…å¤§æŒ‘æˆ°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            touch-action: manipulation;
        }
        .screen {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .screen.active {
            display: flex;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .option-btn {
            transition: all 0.2s ease;
        }
        .option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .option-btn.correct {
            background-color: #22c55e !important; /* green-500 */
            color: white !important;
            border-color: #16a34a !important; /* green-600 */
        }
        .option-btn.incorrect {
            background-color: #ef4444 !important; /* red-500 */
            color: white !important;
            border-color: #dc2626 !important; /* red-600 */
        }
        .option-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        .slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            background: #4f46e5; /* indigo-600 */
            cursor: pointer;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
        input[type='range']::-webkit-slider-thumb {
            @apply slider-thumb;
        }
        input[type='range']::-moz-range-thumb {
            @apply slider-thumb;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 flex items-center justify-center min-h-screen p-4">

    <div id="game-container" class="w-full max-w-2xl mx-auto bg-white rounded-2xl shadow-xl p-6 sm:p-8 text-center overflow-hidden">

        <!-- é–‹å§‹ç•«é¢ -->
        <div id="start-screen" class="screen active flex-col items-center justify-center">
            <h1 class="text-4xl sm:text-5xl font-bold text-indigo-600 mb-4">ç›´è¦ºç‹è€…å¤§æŒ‘æˆ°</h1>
            <p class="text-lg text-gray-600 mb-6 max-w-md">è¨±å¤šç”Ÿæ´»ä¸­çš„æ±ºç­–éƒ½ä¾è³´æˆ‘å€‘çš„ç¬¬ä¸€åæ‡‰å’Œå¸¸è­˜ã€‚é€™å€‹æŒ‘æˆ°å°‡æ¸¬è©¦ä½ åœ¨å„ç¨®æœ‰è¶£é ˜åŸŸçš„ã€Œç›´è¦ºåˆ¤æ–·åŠ›ã€æœ‰å¤šå¼·ï¼</p>
            <p class="text-sm text-gray-500 mb-8">å®Œæˆ15é“é¡Œç›®å¾Œï¼Œæˆ‘å€‘æœƒå‘Šè¨´ä½ ï¼Œä½ çš„æˆç¸¾åœ¨æ‰€æœ‰ç©å®¶ä¸­æ’åœ¨ä»€éº¼ä½ç½®ã€‚</p>
            <button id="start-btn" class="w-full max-w-xs bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg transition-transform transform hover:scale-105">
                é–‹å§‹æŒ‘æˆ°ï¼
            </button>
        </div>

        <!-- å•é¡Œç•«é¢ -->
        <div id="question-screen" class="screen flex-col">
            <div class="w-full mb-6">
                <div class="flex justify-between items-center mb-2 text-gray-500 font-medium">
                    <span id="question-counter">å•é¡Œ 1 / 15</span>
                    <span id="score-display">å¾—åˆ†: 0</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div id="progress-bar" class="bg-green-500 h-3 rounded-full transition-all duration-300" style="width: 0%;"></div>
                </div>
            </div>
            <h2 id="question-text" class="text-2xl sm:text-3xl font-bold mb-8 min-h-[100px] flex items-center justify-center">å•é¡Œæ–‡å­—</h2>
            <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full">
                <!-- é¸é …æŒ‰éˆ•æœƒå‹•æ…‹ç”Ÿæˆæ–¼æ­¤ -->
            </div>
        </div>

        <!-- é æ¸¬ç•«é¢ -->
        <div id="prediction-screen" class="screen flex-col items-center justify-center">
            <h2 class="text-3xl font-bold text-indigo-600 mb-4">æŒ‘æˆ°å®Œæˆï¼</h2>
            <p class="text-lg text-gray-600 mb-6">åœ¨æ­æ›‰ä½ çš„å…¨çƒæ’åä¹‹å‰ï¼Œå…ˆä¾†åšå€‹æœ‰è¶£çš„é æ¸¬å§ï¼</p>
            <label for="prediction-slider" class="text-xl font-medium mb-4">ä½ è¦ºå¾—ï¼Œä½ çš„è¡¨ç¾æœƒè´éç™¾åˆ†ä¹‹å¤šå°‘çš„ç©å®¶ï¼Ÿ</label>
            <div class="w-full max-w-md flex items-center gap-4">
                <span class="font-bold text-gray-500">0%</span>
                <input type="range" id="prediction-slider" min="0" max="100" value="50" class="w-full h-3 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                <span class="font-bold text-gray-500">100%</span>
            </div>
            <span id="slider-value" class="text-5xl font-bold text-indigo-600 my-6">50%</span>
            <button id="submit-prediction-btn" class="w-full max-w-xs bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg transition-transform transform hover:scale-105">
                æŸ¥çœ‹çµæœ
            </button>
        </div>

        <!-- çµæœç•«é¢ -->
        <div id="results-screen" class="screen flex-col items-center justify-center">
            <h2 class="text-4xl font-bold text-indigo-600 mb-6">æˆç¸¾æ­æ›‰ï¼</h2>
            <div class="bg-gray-100 rounded-lg p-6 w-full mb-6 text-left space-y-4">
                <p class="text-xl">ğŸ‘‰ æ‚¨ç¸½å…±ç­”å°äº† <strong id="final-score" class="text-green-600 text-2xl"></strong> é¡Œï¼</p>
                <p class="text-xl">ğŸ‘‰ é€™å€‹æˆç¸¾ï¼Œè®“æ‚¨è´éäº†å…¨çƒ <strong id="actual-rank" class="text-blue-600 text-2xl"></strong> çš„ç©å®¶ï¼</p>
                <p class="text-xl">ğŸ‘‰ è€Œæ‚¨ç•¶æ™‚é æ¸¬è‡ªå·±æœƒè´é <strong id="predicted-rank" class="text-purple-600 text-2xl"></strong> çš„ç©å®¶ï¼</p>
            </div>
            
            <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-md w-full mb-6">
                <div class="flex">
                    <div class="py-1"><svg class="fill-current h-6 w-6 text-yellow-500 mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zM9 11v4h2v-4H9zm0-4h2v2H9V7z"/></svg></div>
                    <div>
                        <p class="font-bold mb-2">ç™¼ç¾äº†å—ï¼Ÿé€™å°±æ˜¯æœ‰è¶£çš„ã€Œé”å…‹æ•ˆæ‡‰ã€ï¼</p>
                        <p class="text-sm">ç°¡å–®ä¾†èªªï¼Œç•¶æˆ‘å€‘åœ¨æŸå€‹é ˜åŸŸé‚„ä¸æ˜¯å°ˆå®¶æ™‚ï¼Œä¸åƒ…å®¹æ˜“çŠ¯éŒ¯ï¼Œæ›´<strong>ç¼ºä¹æ„è­˜åˆ°è‡ªå·±éŒ¯èª¤çš„èƒ½åŠ›!</strong>é€™å°±åƒä¸€å€‹ã€ŒçŸ¥è­˜çš„ç›²é»ã€ã€‚ä¸éåˆ¥æ“”å¿ƒï¼Œæ„è­˜åˆ°é€™ä¸€é»ï¼Œå°±æ˜¯é‚å‘ã€Œå°ˆå®¶ä¹‹å¢ƒã€çš„ç¬¬ä¸€æ­¥ï¼</p>
                    </div>
                </div>
            </div>

            <button id="play-again-btn" class="w-full max-w-xs bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg transition-transform transform hover:scale-105">
                å†ç©ä¸€æ¬¡
            </button>
        </div>

    </div>

    <!-- ç­”æ¡ˆå›é¥‹å½ˆçª— -->
    <div id="feedback-modal" class="fixed inset-0 bg-black bg-opacity-60 items-center justify-center p-4 screen">
        <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full text-center">
            <h3 id="feedback-title" class="text-4xl font-bold mb-4"></h3>
            <p id="feedback-text" class="text-gray-600 mb-6"></p>
            <button id="next-question-btn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-full text-lg shadow-lg">ä¸‹ä¸€é¡Œ</button>
        </div>
    </div>


    <script>
        // DOM å…ƒç´ 
        const startScreen = document.getElementById('start-screen');
        const questionScreen = document.getElementById('question-screen');
        const predictionScreen = document.getElementById('prediction-screen');
        const resultsScreen = document.getElementById('results-screen');
        const screens = document.querySelectorAll('.screen');

        const startBtn = document.getElementById('start-btn');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const questionCounter = document.getElementById('question-counter');
        const scoreDisplay = document.getElementById('score-display');
        const progressBar = document.getElementById('progress-bar');
        
        const predictionSlider = document.getElementById('prediction-slider');
        const sliderValue = document.getElementById('slider-value');
        const submitPredictionBtn = document.getElementById('submit-prediction-btn');

        const finalScore = document.getElementById('final-score');
        const actualRank = document.getElementById('actual-rank');
        const predictedRank = document.getElementById('predicted-rank');
        const playAgainBtn = document.getElementById('play-again-btn');

        const feedbackModal = document.getElementById('feedback-modal');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackText = document.getElementById('feedback-text');
        const nextQuestionBtn = document.getElementById('next-question-btn');

        // éŠæˆ²é¡Œç›®è³‡æ–™
        const questions = [
            { question: "åœ¨å¤ä»£ç¶­äº¬æˆ°å£«çš„é ­ç›”ä¸Šï¼Œæœ€ç¶“å…¸çš„ç‰¹å¾µæ˜¯ä»€éº¼ï¼Ÿ", options: ["å…©å´æœ‰ä¸€å°ç‰›è§’", "é ‚éƒ¨æœ‰é‡‘å±¬å°–åˆº", "æœ‰ç²¾ç¾çš„ç¾½æ¯›è£é£¾", "å…¶å¯¦æ²’æœ‰è­‰æ“šé¡¯ç¤ºæœ‰ç‰›è§’"], answer: 3, explanation: "ç¶­äº¬é ­ç›”ä¸Šæœ‰è§’çš„å½¢è±¡ï¼Œæ˜¯19ä¸–ç´€æ­ŒåŠ‡ç‚ºäº†èˆå°æ•ˆæœè¨­è¨ˆçš„ã€‚è€ƒå¤å­¸ä¸Šå¾æœªç™¼ç¾éå¸¶è§’çš„ç¶­äº¬é ­ç›”ï¼" },
            { question: "ä¿—è©±èªªã€Œé‡‘é­šçš„è¨˜æ†¶åªæœ‰ä¸ƒç§’ã€ï¼Œé€™å¥è©±æ˜¯çœŸçš„å—ï¼Ÿ", options: ["æ˜¯çœŸçš„ï¼Œç‰ å€‘è¨˜ä¸ä½äº‹æƒ…", "å‡çš„ï¼Œå¯é”æ•¸å€‹æœˆ", "æ¯”ä¸ƒç§’é‚„çŸ­", "ç‰¹å®šå“ç¨®è¨˜æ†¶åŠ›å·®"], answer: 1, explanation: "ç§‘å­¸ç ”ç©¶è­‰å¯¦ï¼Œé‡‘é­šçš„è¨˜æ†¶åŠ›å¯é”æ•¸å€‹æœˆï¼Œç‰ å€‘æ¯”ä½ æƒ³çš„è¦è°æ˜å¾—å¤šï¼" },
            { question: "ä¸€æ”¯çƒæ£’å’Œä¸€é¡†çƒç¸½å…±110å…ƒã€‚çƒæ£’æ¯”çƒè²´100å…ƒï¼Œè«‹å•çƒå¤šå°‘éŒ¢ï¼Ÿ", options: ["10å…ƒ", "5å…ƒ", "15å…ƒ", "20å…ƒ"], answer: 1, explanation: "æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼šçƒ5å…ƒï¼Œçƒæ£’105å…ƒï¼Œç¸½å…±110å…ƒï¼å¦‚æœçƒæ˜¯10å…ƒï¼Œçƒæ£’å°±æ˜¯110å…ƒï¼Œç¸½å…±æ˜¯120å…ƒã€‚" },
            { question: "ä¸–ç•Œä¸Šæ“æœ‰æœ€å¤šé‡‘å­—å¡”çš„åœ‹å®¶æ˜¯å“ªå€‹ï¼Ÿ", options: ["åŸƒåŠ", "å¢¨è¥¿å“¥", "è˜‡ä¸¹", "ç§˜é­¯"], answer: 2, explanation: "é›–ç„¶åŸƒåŠé‡‘å­—å¡”æœ€æœ‰åï¼Œä½†å®ƒçš„é„°åœ‹è˜‡ä¸¹æ“æœ‰çš„é‡‘å­—å¡”æ•¸é‡è¶…é250åº§ï¼Œé å¤šæ–¼åŸƒåŠçš„100å¤šåº§ã€‚" },
            { question: "äººé«”èˆŒé ­çš„ä¸åŒå€åŸŸï¼ŒçœŸçš„åˆ†åˆ¥åªè² è²¬æ„Ÿå—ä¸€ç¨®ç‰¹å®šå‘³è¦ºå—ï¼Ÿ", options: ["æ˜¯çš„ï¼Œé€™å°±æ˜¯å‘³è¦ºåœ°åœ–", "ä¸æ˜¯ï¼Œæ‰€æœ‰å‘³è•¾éƒ½èƒ½æ„Ÿå—æ‰€æœ‰å‘³é“", "åªæœ‰ç”œå‘³å’Œé¹¹å‘³åˆ†é–‹", "ä¸»è¦åˆ†ä½ˆå¦‚æ­¤ï¼Œä½†æœ‰é‡ç–Š"], answer: 1, explanation: "ã€Œå‘³è¦ºåœ°åœ–ã€æ˜¯ä¸€å€‹æµå‚³ç™¾å¹´çš„éŒ¯èª¤ç¿»è­¯ã€‚äº‹å¯¦ä¸Šï¼Œä½ èˆŒé ­ä¸Šçš„æ¯ä¸€å€‹å‘³è•¾ï¼Œéƒ½èƒ½åŒæ™‚æ„Ÿå—åˆ°é…¸ã€ç”œã€è‹¦ã€é¹¹ã€é®®äº”ç¨®å‘³é“ã€‚" },
            { question: "åœ¨å°èªªã€Šç§‘å­¸æ€ªäººã€‹ä¸­ï¼Œç”±ç§‘å­¸å®¶å‰µé€ å‡ºä¾†çš„ã€Œæ€ªç‰©ã€å«ä»€éº¼åå­—ï¼Ÿ", options: ["æ³•è˜­è‚¯æ–¯å¦", "æ™®ç¾…ç±³ä¿®æ–¯", "äºç•¶", "å°èªªä¸­å¾æœªçµ¦ä»–å–å"], answer: 3, explanation: "ã€Œæ³•è˜­è‚¯æ–¯å¦ã€å…¶å¯¦æ˜¯å‰µé€ ä»–çš„é‚£ä½ç§‘å­¸å®¶çš„å§“æ°ï¼å°èªªä¸­çš„æ€ªç‰©è‡ªå§‹è‡³çµ‚éƒ½æ²’æœ‰åå­—ã€‚" },
            { question: "é—œæ–¼ç•«å®¶æ¢µè°·å‰²æ‰è‡ªå·±è€³æœµçš„äº‹ä»¶ï¼Œæ¯”è¼ƒæº–ç¢ºçš„æè¿°æ˜¯ï¼Ÿ", options: ["ä»–å‰²æ‰äº†æ•´å€‹å³è€³", "ä»–åªå‰²æ‰äº†ä¸€å°å¡Šå·¦è€³çš„è€³å‚", "åœ¨ç²¾ç¥ç—…é™¢è¢«åˆ¥äººå‰²æ‰çš„", "é€™æ˜¯è™›æ§‹çš„æ•…äº‹"], answer: 1, explanation: "æ ¹æ“šç•¶æ™‚çš„é†«ç”Ÿå ±å‘Šï¼Œæ¢µè°·æ˜¯åœ¨èˆ‡å¥½å‹é«˜æ›´çˆ­åµå¾Œï¼Œå‰²æ‰äº†è‡ªå·±ã€Œå·¦è€³ã€çš„ä¸€å°éƒ¨åˆ†ï¼Œä¸¦éæ•´å€‹è€³æœµã€‚" },
            { question: "å¾æœˆçƒä¸Šï¼Œå”¯ä¸€èƒ½ç”¨è‚‰çœ¼çœ‹åˆ°çš„åœ°çƒäººé€ å»ºç¯‰æ˜¯è¬é‡Œé•·åŸï¼Œé€™å€‹èªªæ³•æ­£ç¢ºå—ï¼Ÿ", options: ["æ­£ç¢ºï¼Œå®ƒæ˜¯å”¯ä¸€å¯è¦‹çš„", "ä¸æ­£ç¢ºï¼Œè¬é‡Œé•·åŸå¤ªç´°äº†æ ¹æœ¬çœ‹ä¸è¦‹", "ä¸åªé•·åŸï¼Œé‡‘å­—å¡”ä¹Ÿçœ‹å¾—åˆ°", "ç‰¹å®šå¤©æ°£ä¸‹æ‰çœ‹å¾—åˆ°"], answer: 1, explanation: "é€™æ˜¯ä¸€å€‹è‘—åçš„ã€Œå¤ªç©ºè¿·æ€ã€ã€‚è¨±å¤šå¤ªç©ºäººéƒ½è­‰å¯¦ï¼Œè¬é‡Œé•·åŸåœ¨å¤ªç©ºè»Œé“ä¸Šå¾ˆé›£ç”¨è‚‰çœ¼è¾¨è­˜ï¼Œå¾æœˆçƒä¸Šæ›´æ˜¯çµ•å°ä¸å¯èƒ½ã€‚" },
            { question: "è€æ•™å ‚çš„çª—æˆ¶ç»ç’ƒã€Œä¸Šè–„ä¸‹åšã€ï¼Œè­‰æ˜äº†ç»ç’ƒæ˜¯ä¸€ç¨®æµå‹•æ¥µå…¶ç·©æ…¢çš„æ¶²é«”ã€‚é€™å€‹èªªæ³•ç§‘å­¸å—ï¼Ÿ", options: ["æ˜¯çš„ï¼Œç»ç’ƒæœ¬è³ªæ˜¯æ¶²é«”", "ä¸æ˜¯ï¼Œé€™æ˜¯å¤ä»£å·¥è—ä¸å‡å‹»é€ æˆçš„", "åªæœ‰å«é‰›ç»ç’ƒæœƒæµå‹•", "éœ€è¦æ•¸è¬å¹´æ‰æœƒæµå‹•"], answer: 1, explanation: "ç»ç’ƒæ˜¯ã€Œç„¡å®šå½¢å›ºé«”ã€ï¼Œä¸æ˜¯æ¶²é«”ã€‚å¤ä»£å·¥åŒ è£½é€ çš„ç»ç’ƒåšè–„æœ¬ä¾†å°±ä¸å‡å‹»ï¼Œå·¥äººå‚¾å‘æ–¼å°‡è¼ƒåšçš„ä¸€å´æœä¸‹å®‰è£ï¼Œæ‰é€ æˆäº†é€™å€‹èª¤æœƒã€‚" },
            { question: "æ—…é¼ ï¼ˆLemmingsï¼‰åœ¨é·å¾™æ™‚ï¼Œæœƒé›†é«”è·³ä¸‹æ‡¸å´–ã€Œè‡ªæ®ºã€ï¼Œé€™æ˜¯ç‰ å€‘çš„å¤©æ€§å—ï¼Ÿ", options: ["æ˜¯çš„ï¼Œç‚ºäº†æ§åˆ¶ç¨®ç¾¤æ•¸é‡", "ä¸æ˜¯ï¼Œé€™æ˜¯è¿ªå£«å°¼ç´€éŒ„ç‰‡çš„æ“ºæ‹", "é£Ÿç‰©çŸ­ç¼ºæ™‚æ‰æœƒ", "ç‰ å€‘åªæ˜¯è¦–åŠ›ä¸å¥½"], answer: 1, explanation: "æ—…é¼ é›†é«”è‡ªæ®ºçš„å°è±¡ï¼Œæºæ–¼1958å¹´è¿ªå£«å°¼çš„ä¸€éƒ¨ç´€éŒ„ç‰‡ï¼Œç‰‡ä¸­è£½ä½œåœ˜éšŠç‚ºäº†æˆ²åŠ‡æ•ˆæœï¼Œå°‡æ—…é¼ è¶•ä¸‹æ‡¸å´–ã€‚" },
            { question: "æ³•åœ‹çš‡å¸æ‹¿ç ´å´™ï¼Œåœ¨ç•¶æ™‚çš„æ­æ´²äººè£¡ï¼Œç®—æ˜¯å€‹å­ç‰¹åˆ¥çŸ®å°çš„äººå—ï¼Ÿ", options: ["æ˜¯çš„ï¼Œä»–æ˜¯è‘—åçš„å°çŸ®å­", "ä¸æ˜¯ï¼Œä»–çš„èº«é«˜åœ¨ç•¶æ™‚å±¬å¹³å‡æ°´å¹³", "å¹´è¼•æ™‚é«˜ï¼Œå¹´è€å¾Œç¸®æ°´", "ä»–æ¯”å¤šæ•¸åœ‹ç‹éƒ½é«˜"], answer: 1, explanation: "æ‹¿ç ´å´™çš„èº«é«˜ç´„168å…¬åˆ†ï¼Œåœ¨19ä¸–ç´€åˆçš„æ³•åœ‹æ˜¯å¹³å‡èº«é«˜ã€‚ä»–ã€ŒçŸ®å°ã€çš„å½¢è±¡ï¼Œå¾ˆå¤§ç¨‹åº¦æ˜¯è‹±åœ‹çš„æ”¿æ²»å®£å‚³ã€‚" },
            { question: "ä¸€å€‹æ± å¡˜é‡Œçš„è·è‘‰ï¼Œæ¯å¤©é¢ç©éƒ½æœƒæ“´å¤§ä¸€å€ã€‚å¦‚æœç¬¬30å¤©é•·æ»¿æ•´å€‹æ± å¡˜ï¼Œè«‹å•ç¬¬å¹¾å¤©æœƒé•·æ»¿åŠå€‹æ± å¡˜ï¼Ÿ", options: ["ç¬¬15å¤©", "ç¬¬20å¤©", "ç¬¬25å¤©", "ç¬¬29å¤©"], answer: 3, explanation: "æ—¢ç„¶æ¯å¤©é¢ç©éƒ½è®Šç‚ºå‰ä¸€å¤©çš„å…©å€ï¼Œé‚£éº¼åœ¨é•·æ»¿å…¨æ± ï¼ˆç¬¬30å¤©ï¼‰çš„å‰ä¸€å¤©ï¼Œé¢ç©è‡ªç„¶å°±æ˜¯æ± å¡˜çš„ä¸€åŠï¼" },
            { question: "ä¿—è©±èªªã€Œçå¾—åƒéš»è™è ã€ï¼Œé€™ä»£è¡¨è™è çš„è¦–åŠ›éå¸¸å·®å—ï¼Ÿ", options: ["æ˜¯çš„ï¼Œç‰ å€‘å®Œå…¨æ˜¯çå­", "ä¸æ˜¯ï¼Œæ‰€æœ‰è™è éƒ½èƒ½çœ‹è¦‹", "åªæœ‰æœè è¦–åŠ›å¥½", "ç‰ å€‘æ˜¯è‰²ç›²"], answer: 1, explanation: "æ²’æœ‰ä»»ä½•ä¸€ç¨®è™è æ˜¯å…¨ç›²çš„ã€‚ç‰ å€‘éƒ½æ“æœ‰å¯ä»¥è¦–ç‰©çš„çœ¼ç›ï¼Œåªæ˜¯æ›´ä¾è³´ç²¾æº–çš„å›è²å®šä½ç³»çµ±ä¾†è¼”åŠ©å°èˆªã€‚" },
            { question: "ã€Œé–ƒé›»ä¸æœƒæ“Šä¸­åŒä¸€å€‹åœ°æ–¹å…©æ¬¡ã€é€™å¥è«ºèªï¼Œç¬¦åˆç§‘å­¸äº‹å¯¦å—ï¼Ÿ", options: ["ç¬¦åˆï¼Œé›»æœƒå°‹æ‰¾æ–°è·¯å¾‘", "ä¸ç¬¦åˆï¼Œé«˜è³å»ºç¯‰ç‰©ç¶“å¸¸è¢«é‡è¤‡æ“Šä¸­", "éå¸¸ç½•è¦‹çš„æƒ…æ³ä¸‹æ‰æœƒ", "åªæ˜¯ä¸€å€‹æ¯”å–»"], answer: 1, explanation: "é€™å¥è©±å®Œå…¨æ˜¯éŒ¯çš„ã€‚äº‹å¯¦ä¸Šï¼Œé–ƒé›»ã€Œåæ„›ã€é‡è¤‡æ“Šä¸­é«˜è³çš„ç‰©é«”ã€‚ç´ç´„çš„å¸åœ‹å¤§å»ˆæ¯å¹´å¹³å‡æœƒè¢«é–ƒé›»æ“Šä¸­20å¤šæ¬¡ï¼" },
            { question: "æ™®éèªç‚ºï¼Œåƒå¤ªå¤šç³–æœƒè®“å°å­©å­è®Šå¾—ã€Œéå‹•ã€ï¼Œé€™å€‹èªªæ³•æœ‰å……åˆ†çš„ç§‘å­¸æ ¹æ“šå—ï¼Ÿ", options: ["æœ‰ï¼Œç³–åˆ†æœƒç›´æ¥åˆºæ¿€ç¥ç¶“", "æ²’æœ‰ï¼Œå¤šæ•¸ç ”ç©¶é¡¯ç¤ºç„¡ç›´æ¥é—œè¯", "å°ç‰¹å®šé«”è³ªçš„å­©å­æœ‰å½±éŸ¿", "åªæœ‰äººå·¥ç”œå‘³åŠ‘æœƒ"], answer: 1, explanation: "å„˜ç®¡é€™æ˜¯è¨±å¤šå®¶é•·çš„å…±åŒç¶“é©—ï¼Œä½†å¤šé …åš´è¬¹çš„ç§‘å­¸ç ”ç©¶éƒ½æœªèƒ½è­‰å¯¦ç³–çš„æ”å–èˆ‡å…’ç«¥çš„éå‹•è¡Œç‚ºæœ‰ç›´æ¥å› æœé—œä¿‚ã€‚" }
        ];

        // éŠæˆ²ç‹€æ…‹
        let currentQuestionIndex;
        let score;
        let userPrediction;

        // åˆå§‹åŒ–éŠæˆ²
        function initGame() {
            currentQuestionIndex = 0;
            score = 0;
            userPrediction = 50;
            predictionSlider.value = 50;
            sliderValue.textContent = '50%';
            updateScoreDisplay();
        }

        // é¡¯ç¤ºç‰¹å®šç•«é¢
        function showScreen(screenId) {
            screens.forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        // é–‹å§‹éŠæˆ²
        function startGame() {
            initGame();
            showScreen('question-screen');
            showQuestion();
        }

        // é¡¯ç¤ºå•é¡Œ
        function showQuestion() {
            const question = questions[currentQuestionIndex];
            questionText.textContent = question.question;
            optionsContainer.innerHTML = '';
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-btn', 'w-full', 'bg-white', 'border-2', 'border-gray-300', 'hover:border-indigo-500', 'hover:bg-indigo-50', 'text-gray-700', 'font-medium', 'py-4', 'px-4', 'rounded-lg', 'text-lg');
                button.onclick = () => selectAnswer(index);
                optionsContainer.appendChild(button);
            });
            questionCounter.textContent = `å•é¡Œ ${currentQuestionIndex + 1} / ${questions.length}`;
            progressBar.style.width = `${((currentQuestionIndex) / questions.length) * 100}%`;
        }
        
        // æ›´æ–°åˆ†æ•¸é¡¯ç¤º
        function updateScoreDisplay() {
            scoreDisplay.textContent = `å¾—åˆ†: ${score}`;
        }

        // é¸æ“‡ç­”æ¡ˆ
        function selectAnswer(selectedIndex) {
            const question = questions[currentQuestionIndex];
            const isCorrect = selectedIndex === question.answer;
            
            // ç¦ç”¨æ‰€æœ‰æŒ‰éˆ•
            const buttons = optionsContainer.querySelectorAll('button');
            buttons.forEach(btn => btn.disabled = true);

            if (isCorrect) {
                score++;
                buttons[selectedIndex].classList.add('correct');
                feedbackTitle.textContent = 'ç­”å°äº†ï¼';
                feedbackTitle.className = 'text-4xl font-bold mb-4 text-green-500';
            } else {
                buttons[selectedIndex].classList.add('incorrect');
                buttons[question.answer].classList.add('correct');
                feedbackTitle.textContent = 'ç­”éŒ¯äº†...';
                feedbackTitle.className = 'text-4xl font-bold mb-4 text-red-500';
            }
            updateScoreDisplay();
            feedbackText.textContent = question.explanation;
            feedbackModal.classList.add('active');
        }

        // ä¸‹ä¸€é¡Œæˆ–çµæŸ
        function handleNext() {
            feedbackModal.classList.remove('active');
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                progressBar.style.width = `${((currentQuestionIndex) / questions.length) * 100}%`;
                showQuestion();
            } else {
                progressBar.style.width = '100%';
                showScreen('prediction-screen');
            }
        }

        // é¡¯ç¤ºçµæœ
        function showResults() {
            userPrediction = predictionSlider.value;
            showScreen('results-screen');
            
            // æ¨¡æ“¬ä¸€å€‹æ¯”è¼ƒçœŸå¯¦çš„æ’å
            // åŸºç¤åˆ† + éš¨æ©Ÿæ•¸ï¼Œè®“åˆ†æ•¸ä¸€æ¨£çš„äººæ’åä¹Ÿå¯èƒ½ä¸åŒ
            let baseRank = score * 5; 
            let randomFactor = Math.floor(Math.random() * 15);
            let calculatedRank = Math.min(99, baseRank + randomFactor);

            finalScore.textContent = `${score} / ${questions.length}`;
            actualRank.textContent = `${calculatedRank}%`;
            predictedRank.textContent = `${userPrediction}%`;
        }

        // äº‹ä»¶ç›£è½
        startBtn.addEventListener('click', startGame);
        
        predictionSlider.addEventListener('input', (e) => {
            sliderValue.textContent = `${e.target.value}%`;
        });

        submitPredictionBtn.addEventListener('click', showResults);
        
        nextQuestionBtn.addEventListener('click', handleNext);
        
        playAgainBtn.addEventListener('click', () => {
            showScreen('start-screen');
        });

    </script>
</body>
</html>
