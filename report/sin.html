<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>代理網路趨勢與未來展望 - 互動資訊圖表</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Visualization & Content Choices:
        - Report Info: "Original Sin" concept (Zuckerman/Andreessen). Goal: Inform. Viz: Styled quote cards (HTML/CSS). Justification: Clear foundational arguments. NO SVG/Mermaid.
        - Report Info: Ad model "Win-Win-Win" & decline. Goal: Compare/Change. Viz: Donut Chart for monetization models (Chart.js), HTML/CSS "Wobbly Stool" diagram. Justification: Show historical dominance and current instability. NO SVG/Mermaid.
        - Report Info: Microsoft's MCP/NLWeb & Patel's critique. Goal: Organize/Inform. Viz: HTML/CSS flow diagram for tech concepts, callout for critique. Justification: Explain new tech and its gaps. NO SVG/Mermaid.
        - Report Info: Stablecoin/Micro-transaction proposal. Goal: Organize/Inform. Viz: HTML/CSS process flow for new marketplace. Justification: Visualize proposed solution. NO SVG/Mermaid.
        - Report Info: Conceptual SWOT for Agentic Web. Goal: Organize/Analyze. Viz: HTML/CSS styled SWOT matrix. Justification: Summarize potential based on article. NO SVG/Mermaid.
        - Report Info: Evolution of Web Interaction. Goal: Change. Viz: Conceptual Line Chart (Chart.js). Justification: Illustrate progression towards agentic web. NO SVG/Mermaid.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', 'Noto Sans TC', sans-serif; background-color: #F8F9FA; color: #1D3557; }
        
        /* Corrected Language Display Rules */
        body.lang-zh-Hant .lang-en-inline { display: none; }
        body.lang-zh-Hant .lang-zh-Hant-inline { display: inline; }
        body.lang-en .lang-zh-Hant-inline { display: none; }
        body.lang-en .lang-en-inline { display: inline; }

        .nav-link.active { color: #FFB703; font-weight: bold; border-bottom: 2px solid #FFB703;}
        .chart-container { position: relative; width: 100%; max-width: 600px; margin-left: auto; margin-right: auto; height: 300px; max-height: 350px; }
        @media (min-width: 768px) { .chart-container { height: 350px; max-height: 400px;} }
        .section-title { color: #0A2463; border-bottom: 3px solid #3E92CC; padding-bottom: 0.5rem; }
        .card { background-color: white; border-radius: 0.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); padding: 1.5rem; margin-bottom: 1.5rem; }
        .stat-number { font-size: 2.5rem; font-weight: bold; color: #3E92CC; }
        .swot-cell { border: 1px solid #A6D6F2; padding: 1rem; background-color: #F0F8FF; }
        .sticky-nav { position: -webkit-sticky; position: sticky; top: 0; z-index: 50; background-color: rgba(255,255,255,0.9); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="lang-zh-Hant">

    <header class="py-6 text-center bg-gradient-to-r from-[#0A2463] to-[#3E92CC] text-white">
        <div class="container mx-auto px-4">
            <h1 class="text-3xl md:text-4xl font-bold">
                <span class="lang-zh-Hant-inline">代理網路：趨勢演進與未來支付模式</span>
                <span class="lang-en-inline">The Agentic Web: Evolving Trends & Future Payment Models</span>
            </h1>
            <p class="mt-2 text-lg text-[#A6D6F2]">
                <span class="lang-zh-Hant-inline">深入解析網路貨幣化的過去、現在與未來</span>
                <span class="lang-en-inline">An In-depth Analysis of Web Monetization's Past, Present, and Future</span>
            </p>
            <button id="langToggleBtn" class="mt-4 px-4 py-2 bg-[#FFB703] text-[#0A2463] rounded-md hover:bg-opacity-80 transition font-semibold">
                <span class="lang-zh-Hant-inline">Switch to English</span>
                <span class="lang-en-inline">切換至繁體中文</span>
            </button>
        </div>
    </header>

    <nav id="infographicNav" class="sticky-nav shadow-md">
        <div class="container mx-auto px-4">
            <ul class="flex flex-wrap justify-center space-x-2 sm:space-x-4 py-3 text-sm md:text-base">
                <li><a href="#section-original-sin" class="nav-link px-2 py-2 text-[#1D3557] hover:text-[#FFB703]"><span class="lang-zh-Hant-inline">原罪</span><span class="lang-en-inline">Original Sin</span></a></li>
                <li><a href="#section-ad-model" class="nav-link px-2 py-2 text-[#1D3557] hover:text-[#FFB703]"><span class="lang-zh-Hant-inline">廣告模型</span><span class="lang-en-inline">Ad Model</span></a></li>
                <li><a href="#section-agentic-dawn" class="nav-link px-2 py-2 text-[#1D3557] hover:text-[#FFB703]"><span class="lang-zh-Hant-inline">代理黎明</span><span class="lang-en-inline">Agentic Dawn</span></a></li>
                <li><a href="#section-future-payments" class="nav-link px-2 py-2 text-[#1D3557] hover:text-[#FFB703]"><span class="lang-zh-Hant-inline">未來支付</span><span class="lang-en-inline">Future Payments</span></a></li>
                <li><a href="#section-swot" class="nav-link px-2 py-2 text-[#1D3557] hover:text-[#FFB703]"><span class="lang-zh-Hant-inline">SWOT</span><span class="lang-en-inline">SWOT</span></a></li>
                <li><a href="#section-conclusion" class="nav-link px-2 py-2 text-[#1D3557] hover:text-[#FFB703]"><span class="lang-zh-Hant-inline">結論</span><span class="lang-en-inline">Conclusion</span></a></li>
            </ul>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">
        <section id="section-original-sin" class="pt-16 -mt-16 mb-12">
            <h2 class="text-2xl md:text-3xl font-bold mb-6 section-title">
                <span class="lang-zh-Hant-inline">引言：網路的原罪</span><span class="lang-en-inline">Introduction: The Web's Original Sin</span>
            </h2>
            <p class="mb-6 text-lg">
                <span class="lang-zh-Hant-inline">網路的初始貨幣化選擇——廣告——常被指為「原罪」。此節探討此觀點的起源及其對網路生態的深遠影響。</span>
                <span class="lang-en-inline">The web's initial monetization choice—advertising—is often cited as its "original sin." This section explores the origins of this perspective and its profound impact on the web ecosystem.</span>
            </p>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="card">
                    <h3 class="text-xl font-semibold text-[#0A2463] mb-2">Ethan Zuckerman (2014)</h3>
                    <p class="text-sm">
                        <span class="lang-zh-Hant-inline">「我開始相信廣告是網路的原罪。我們網際網路的墮落狀態，是選擇廣告作為支援線上內容和服務的預設模式的直接後果。」</span>
                        <span class="lang-en-inline">"I have come to believe that advertising is the original sin of the web. The fallen state of our Internet is a direct consequence of choosing advertising as the default model."</span>
                    </p>
                </div>
                <div class="card">
                    <h3 class="text-xl font-semibold text-[#0A2463] mb-2">Marc Andreessen</h3>
                    <p class="text-sm">
                        <span class="lang-zh-Hant-inline">「原罪是我們無法真正將經濟（金錢）建構到網際網路的核心，因此廣告成為了主要的商業模式。」</span>
                        <span class="lang-en-inline">"The original sin was we couldn’t actually build economics (money) into the core of the internet, so advertising became the primary business model."</span>
                    </p>
                </div>
            </div>
            <div class="card mt-6">
                <h3 class="text-xl font-semibold text-[#0A2463] mb-3"><span class="lang-zh-Hant-inline">網路互動演進 (概念圖)</span><span class="lang-en-inline">Evolution of Web Interaction (Conceptual)</span></h3>
                <div class="chart-container h-[250px] md:h-[300px]">
                    <canvas id="webEvolutionChart"></canvas>
                </div>
                <p class="text-sm mt-2 text-center">
                    <span class="lang-zh-Hant-inline">從早期的人力網路，到搜尋引擎驅動的網路，再到未來可能的代理網路。</span>
                    <span class="lang-en-inline">From the early human web, to the search-driven web, towards a potential agentic web future.</span>
                </p>
            </div>
        </section>

        <section id="section-ad-model" class="pt-16 -mt-16 mb-12">
            <h2 class="text-2xl md:text-3xl font-bold mb-6 section-title">
                <span class="lang-zh-Hant-inline">廣告模型的興衰</span><span class="lang-en-inline">Rise & Fall of the Ad Model</span>
            </h2>
            <p class="mb-6 text-lg">
                <span class="lang-zh-Hant-inline">廣告曾是驅動「人性網路」成長的引擎，實現了使用者、創作者與廣告商的三贏。然而，此模型如今面臨嚴峻挑戰，其支柱已搖搖欲墜。</span>
                <span class="lang-en-inline">Advertising once fueled the "human web," creating a win-win-win for users, creators, and advertisers. However, this model now faces severe challenges, its foundations weakening.</span>
            </p>
            <div class="grid md:grid-cols-2 gap-6 items-center">
                <div class="card">
                    <h3 class="text-xl font-semibold text-[#0A2463] mb-3"><span class="lang-zh-Hant-inline">主要網路貨幣化模型 (概念比例)</span><span class="lang-en-inline">Key Web Monetization Models (Conceptual Proportions)</span></h3>
                    <div class="chart-container h-[250px] md:h-[300px]">
                        <canvas id="monetizationDonutChart"></canvas>
                    </div>
                     <p class="text-sm mt-2 text-center">
                        <span class="lang-zh-Hant-inline">廣告模式曾佔主導，訂閱制逐漸興起，未來微交易可能成為重要一環。</span>
                        <span class="lang-en-inline">Advertising was dominant, subscriptions are rising, and microtransactions may become key.</span>
                    </p>
                </div>
                <div class="card">
                    <h3 class="text-xl font-semibold text-[#0A2463] mb-2"><span class="lang-zh-Hant-inline">廣告模型的「三贏」</span><span class="lang-en-inline">The Ad Model's "Win-Win-Win"</span></h3>
                    <ul class="list-disc list-inside space-y-1 text-sm">
                        <li><strong class="text-[#3E92CC]"><span class="lang-zh-Hant-inline">使用者：</span><span class="lang-en-inline">Users:</span></strong> <span class="lang-zh-Hant-inline">免費獲取大量內容</span><span class="lang-en-inline">Free access to vast content</span></li>
                        <li><strong class="text-[#3E92CC]"><span class="lang-zh-Hant-inline">創作者：</span><span class="lang-en-inline">Creators:</span></strong> <span class="lang-zh-Hant-inline">觸及廣大受眾</span><span class="lang-en-inline">Reach largest audience</span></li>
                        <li><strong class="text-[#3E92CC]"><span class="lang-zh-Hant-inline">廣告商：</span><span class="lang-en-inline">Advertisers:</span></strong> <span class="lang-zh-Hant-inline">接觸潛在客戶</span><span class="lang-en-inline">Find potential customers</span></li>
                    </ul>
                    <h3 class="text-xl font-semibold text-[#0A2463] mt-4 mb-2"><span class="lang-zh-Hant-inline">「搖搖欲墜的支柱」</span><span class="lang-en-inline">"Wobbly Stool" of Ad Web</span></h3>
                    <p class="text-sm">
                        <span class="lang-zh-Hant-inline">使用者流向圍牆花園、AI直接提供答案、搜尋結果品質下降、廣告商偏好轉變，使內容網站生存日益困難。</span>
                        <span class="lang-en-inline">Users shift to walled gardens, AI provides direct answers, search quality declines, advertiser preferences change, making content site viability difficult.</span>
                    </p>
                </div>
            </div>
        </section>

        <section id="section-agentic-dawn" class="pt-16 -mt-16 mb-12">
            <h2 class="text-2xl md:text-3xl font-bold mb-6 section-title">
                <span class="lang-zh-Hant-inline">代理網路的黎明</span><span class="lang-en-inline">Dawn of the Agentic Web</span>
            </h2>
            <p class="mb-6 text-lg">
                <span class="lang-zh-Hant-inline">面對廣告模型的困境，微軟等科技巨頭提出「開放代理網路」的願景，期望 AI 代理程式能更有效地為使用者服務。但此願景的商業模式仍不明朗。</span>
                <span class="lang-en-inline">Facing the ad model's crisis, tech giants like Microsoft propose an "Open Agentic Web," where AI agents serve users more effectively. However, its business model remains unclear.</span>
            </p>
            <div class="card">
                <h3 class="text-xl font-semibold text-[#0A2463] mb-3"><span class="lang-zh-Hant-inline">微軟的代理網路技術</span><span class="lang-en-inline">Microsoft's Agentic Web Technologies</span></h3>
                <div class="space-y-4 text-sm">
                    <div class="p-3 bg-[#E0F2FE] rounded"><strong>MCP (Model Context Protocol):</strong> <span class="lang-zh-Hant-inline">由 Anthropic 創建，旨在讓 AI 代理程式更好地理解和互動。</span><span class="lang-en-inline">Created by Anthropic for better AI agent understanding and interaction.</span></div>
                    <div class="p-3 bg-[#E0F2FE] rounded"><strong>NLWeb (Natural Language Web):</strong> <span class="lang-zh-Hant-inline">微軟創建，使網站能以自然語言與代理程式互動，類似「代理網路的HTML」。</span><span class="lang-en-inline">Microsoft's creation for websites to interact with agents via natural language, akin to "HTML for the agentic web."</span></div>
                </div>
                <div class="mt-4 p-3 bg-red-50 border border-red-200 rounded">
                    <h4 class="font-semibold text-red-700"><span class="lang-zh-Hant-inline">Nilay Patel 的關鍵質疑：</span><span class="lang-en-inline">Nilay Patel's Key Critique:</span></h4>
                    <p class="text-sm text-red-600">
                        <span class="lang-zh-Hant-inline">「網站的誘因何在？當流量下降，代理程式直接取用內容時，網站如何獲利？」</span>
                        <span class="lang-en-inline">"What's the incentive for websites? How do they monetize when traffic drops and agents directly access content?"</span>
                    </p>
                </div>
            </div>
        </section>

        <section id="section-future-payments" class="pt-16 -mt-16 mb-12">
            <h2 class="text-2xl md:text-3xl font-bold mb-6 section-title">
                <span class="lang-zh-Hant-inline">未來的支付模式：穩定幣與微交易</span><span class="lang-en-inline">Future Payment Models: Stablecoins & Microtransactions</span>
            </h2>
            <p class="mb-6 text-lg">
                <span class="lang-zh-Hant-inline">作者認為，真正的「原罪」是現在未能為代理網路建構原生支付。穩定幣因其特性，為代理微交易提供了可行方案，有望建立新的內容市場。</span>
                <span class="lang-en-inline">The author argues the true "original sin" is not building native payments *now* for the agentic web. Stablecoins offer a viable solution for agentic microtransactions, potentially creating a new content marketplace.</span>
            </p>
            <div class="card">
                <h3 class="text-xl font-semibold text-[#0A2463] mb-3"><span class="lang-zh-Hant-inline">代理內容市場流程 (概念)</span><span class="lang-en-inline">Agentic Content Marketplace Flow (Conceptual)</span></h3>
                <div class="space-y-3 text-sm">
                    <div class="flex items-center p-2 bg-slate-100 rounded"> <span class="text-xl mr-2 text-[#3E92CC]">①</span> <span class="lang-zh-Hant-inline">創作者產出高品質內容</span><span class="lang-en-inline">Creators produce quality content</span></div>
                    <div class="text-center text-2xl text-[#3E92CC]">↓</div>
                    <div class="flex items-center p-2 bg-slate-100 rounded"> <span class="text-xl mr-2 text-[#3E92CC]">②</span> <span class="lang-zh-Hant-inline">AI 代理程式引用內容</span><span class="lang-en-inline">AI agents cite content</span></div>
                    <div class="text-center text-2xl text-[#3E92CC]">↓</div>
                    <div class="flex items-center p-2 bg-slate-100 rounded"> <span class="text-xl mr-2 text-[#3E92CC]">③</span> <span class="lang-zh-Hant-inline">協定層透過穩定幣支付</span><span class="lang-en-inline">Protocol layer facilitates stablecoin payment</span></div>
                    <div class="text-center text-2xl text-[#3E92CC]">↓</div>
                    <div class="flex items-center p-2 bg-slate-100 rounded"> <span class="text-xl mr-2 text-[#3E92CC]">④</span> <span class="lang-zh-Hant-inline">AI 提供商依引用頻率付費給創作者</span><span class="lang-en-inline">AI providers pay creators based on citation</span></div>
                    <div class="text-center text-2xl text-[#FFB703]">⇓</div>
                    <div class="flex items-center p-2 bg-[#FFFBEB] border border-[#FFB703] rounded"> <span class="text-xl mr-2 text-[#FFB703]">☛</span> <strong class="lang-zh-Hant-inline">新三贏：激勵高品質內容，形成新開放網路</strong><strong class="lang-en-inline">New Win-Win-Win: Incentivizes quality content, forms new open web</strong></div>
                </div>
            </div>
        </section>

        <section id="section-swot" class="pt-16 -mt-16 mb-12">
            <h2 class="text-2xl md:text-3xl font-bold mb-6 section-title">
                <span class="lang-zh-Hant-inline">代理網路 SWOT 分析 (概念性)</span><span class="lang-en-inline">Agentic Web SWOT Analysis (Conceptual)</span>
            </h2>
            <p class="mb-6 text-lg">
                <span class="lang-zh-Hant-inline">基於報告論點，對代理網路的潛力進行概念性的 SWOT 分析，探討其優勢、劣勢、機會與威脅。</span>
                <span class="lang-en-inline">Based on the report's arguments, a conceptual SWOT analysis of the agentic web's potential, exploring its strengths, weaknesses, opportunities, and threats.</span>
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                <div class="swot-cell">
                    <h4 class="font-bold text-green-600 mb-1"><span class="lang-zh-Hant-inline">優勢 (Strengths)</span><span class="lang-en-inline">Strengths</span></h4>
                    <ul class="list-disc list-inside">
                        <li><span class="lang-zh-Hant-inline">提升效率與個人化</span><span class="lang-en-inline">Increased efficiency & personalization</span></li>
                        <li><span class="lang-zh-Hant-inline">自動化複雜任務</span><span class="lang-en-inline">Automation of complex tasks</span></li>
                        <li><span class="lang-zh-Hant-inline">潛在新服務與應用</span><span class="lang-en-inline">Potential for new services & apps</span></li>
                    </ul>
                </div>
                <div class="swot-cell">
                    <h4 class="font-bold text-red-600 mb-1"><span class="lang-zh-Hant-inline">劣勢 (Weaknesses)</span><span class="lang-en-inline">Weaknesses</span></h4>
                    <ul class="list-disc list-inside">
                        <li><span class="lang-zh-Hant-inline">商業模式不確定</span><span class="lang-en-inline">Uncertain business models</span></li>
                        <li><span class="lang-zh-Hant-inline">技術複雜性高</span><span class="lang-en-inline">High technical complexity</span></li>
                        <li><span class="lang-zh-Hant-inline">使用者信任與隱私顧慮</span><span class="lang-en-inline">User trust & privacy concerns</span></li>
                    </ul>
                </div>
                <div class="swot-cell">
                    <h4 class="font-bold text-blue-600 mb-1"><span class="lang-zh-Hant-inline">機會 (Opportunities)</span><span class="lang-en-inline">Opportunities</span></h4>
                    <ul class="list-disc list-inside">
                        <li><span class="lang-zh-Hant-inline">新的創作者經濟</span><span class="lang-en-inline">New creator economy</span></li>
                        <li><span class="lang-zh-Hant-inline">更優質、相關的 AI 內容</span><span class="lang-en-inline">Better, more relevant AI content</span></li>
                        <li><span class="lang-zh-Hant-inline">真正的開放網路協定</span><span class="lang-en-inline">Truly open web protocols</span></li>
                    </ul>
                </div>
                <div class="swot-cell">
                    <h4 class="font-bold text-orange-600 mb-1"><span class="lang-zh-Hant-inline">威脅 (Threats)</span><span class="lang-en-inline">Threats</span></h4>
                    <ul class="list-disc list-inside">
                        <li><span class="lang-zh-Hant-inline">大型平台中心化風險</span><span class="lang-en-inline">Risk of centralization by large platforms</span></li>
                        <li><span class="lang-zh-Hant-inline">開放網路精神的喪失</span><span class="lang-en-inline">Loss of open web ethos</span></li>
                        <li><span class="lang-zh-Hant-inline">錯誤資訊與操縱風險</span><span class="lang-en-inline">Misinformation & manipulation risks</span></li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="section-conclusion" class="pt-16 -mt-16 mb-12">
            <h2 class="text-2xl md:text-3xl font-bold mb-6 section-title">
                <span class="lang-zh-Hant-inline">結論與展望</span><span class="lang-en-inline">Conclusion & Outlook</span>
            </h2>
            <div class="card text-center bg-gradient-to-r from-[#A6D6F2] to-[#F8F9FA]">
                <p class="text-xl md:text-2xl font-semibold text-[#0A2463] leading-relaxed">
                    <span class="lang-zh-Hant-inline">網際網路的「原罪」並非廣告本身，而是未能及早建立可行的支付機制。代理網路的未來，取決於我們是否能記取教訓，將「價值交換」深植其核心，透過開放的市場與一致的誘因，創造一個真正繁榮的數位生態。</span>
                    <span class="lang-en-inline">The internet's "original sin" wasn't advertising itself, but the failure to build viable payment mechanisms early on. The future of the agentic web depends on learning this lesson, embedding "value exchange" at its core, and fostering a truly prosperous digital ecosystem through open markets and aligned incentives.</span>
                </p>
            </div>
        </section>
    </main>

    <footer class="text-center py-8 mt-8 border-t border-[#A6D6F2]">
        <p class="text-sm text-[#1D3557]">
            <span class="lang-zh-Hant-inline">此互動資訊圖表根據 Stratechery 文章「代理網路與原罪」製作。</span>
            <span class="lang-en-inline">This interactive infographic is based on the Stratechery article "The Agentic Web and Original Sin."</span>
        </p>
        <p class="text-xs text-gray-500 mt-1">
            <span class="lang-zh-Hant-inline">所有圖表數據均為基於文章論點的概念性呈現。</span>
            <span class="lang-en-inline">All chart data are conceptual representations based on the article's arguments.</span>
        </p>
    </footer>

    <script>
        const langToggleBtn = document.getElementById('langToggleBtn');
        const body = document.body;
        const htmlEl = document.documentElement;
        let webEvolutionChartInstance;
        let monetizationDonutChartInstance;

        const chartJsPlugins = {
            tooltip: {
                callbacks: {
                    title: function(tooltipItems) {
                        const item = tooltipItems[0];
                        let label = item.chart.data.labels[item.dataIndex];
                        if (Array.isArray(label)) {
                            return label.join(' ');
                        }
                        return label;
                    }
                }
            }
        };

        function wrapLabels(labels, maxLength = 16) {
            return labels.map(label => {
                if (typeof label === 'string' && label.length > maxLength) {
                    const words = label.split(' ');
                    const lines = [];
                    let currentLine = '';
                    words.forEach(word => {
                        if ((currentLine + word).length > maxLength && currentLine.length > 0) {
                            lines.push(currentLine.trim());
                            currentLine = word + ' ';
                        } else {
                            currentLine += word + ' ';
                        }
                    });
                    lines.push(currentLine.trim());
                    return lines;
                }
                return label;
            });
        }

        function updateChartsLanguage(lang) {
            const isZh = lang === 'zh-Hant';

            if (webEvolutionChartInstance) {
                webEvolutionChartInstance.data.labels = wrapLabels(isZh ? ['早期人力網路 (1990s)', '搜尋驅動網路 (2000s-2010s)', '社群/行動網路 (2010s-2020s)', '代理網路 (未來展望)'] : ['Early Human Web (1990s)', 'Search-Driven Web (2000s-2010s)', 'Social/Mobile Web (2010s-2020s)', 'Agentic Web (Future Outlook)']);
                webEvolutionChartInstance.data.datasets[0].label = isZh ? '互動複雜度 (概念)' : 'Interaction Complexity (Conceptual)';
                webEvolutionChartInstance.update();
            }

            if (monetizationDonutChartInstance) {
                monetizationDonutChartInstance.data.labels = wrapLabels(isZh ? ['廣告模型 (主導)', '訂閱制 (增長中)', '微交易 (潛力)'] : ['Ad Model (Dominant)', 'Subscriptions (Growing)', 'Microtransactions (Potential)']);
                monetizationDonutChartInstance.data.datasets[0].label = isZh ? '貨幣化模型' : 'Monetization Models';
                monetizationDonutChartInstance.update();
            }
        }

        function setLanguage(lang) {
            body.classList.remove('lang-zh-Hant', 'lang-en');
            body.classList.add(lang === 'en' ? 'lang-en' : 'lang-zh-Hant');
            htmlEl.lang = lang;
            localStorage.setItem('preferredLang', lang);
            if (webEvolutionChartInstance && monetizationDonutChartInstance) { // Ensure charts are initialized
                updateChartsLanguage(lang);
            }
        }
        
        langToggleBtn.addEventListener('click', () => {
            const currentLang = body.classList.contains('lang-zh-Hant') ? 'zh-Hant' : 'en';
            setLanguage(currentLang === 'zh-Hant' ? 'en' : 'zh-Hant');
        });

        const storedLang = localStorage.getItem('preferredLang');
        const initialLang = storedLang || 'zh-Hant';
        
        body.classList.remove('lang-zh-Hant', 'lang-en');
        body.classList.add(initialLang === 'en' ? 'lang-en' : 'lang-zh-Hant');
        htmlEl.lang = initialLang;

        const webEvoCtx = document.getElementById('webEvolutionChart').getContext('2d');
        webEvolutionChartInstance = new Chart(webEvoCtx, {
            type: 'line',
            data: {
                labels: [], 
                datasets: [{
                    label: '', 
                    data: [10, 30, 60, 90], 
                    borderColor: '#3E92CC',
                    backgroundColor: 'rgba(62, 146, 204, 0.1)',
                    fill: true,
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { y: { beginAtZero: true, suggestedMax: 100, ticks: { color: '#1D3557' } }, x: { ticks: { color: '#1D3557' } } },
                plugins: { ...chartJsPlugins, legend: { labels: { color: '#1D3557' } } }
            }
        });

        const monetizationCtx = document.getElementById('monetizationDonutChart').getContext('2d');
        monetizationDonutChartInstance = new Chart(monetizationCtx, {
            type: 'doughnut',
            data: {
                labels: [],
                datasets: [{
                    label: '',
                    data: [65, 25, 10], 
                    backgroundColor: ['#3E92CC', '#A6D6F2', '#FFB703'],
                    borderColor: '#F8F9FA',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { ...chartJsPlugins, legend: { position: 'bottom', labels: { color: '#1D3557' } } }
            }
        });
        
        updateChartsLanguage(initialLang); // Call after charts are initialized and initial language is set on body

        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('main section');

        function updateActiveNavLink() {
            let currentSectionId = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - document.getElementById('infographicNav').offsetHeight - 20;
                if (window.scrollY >= sectionTop) {
                    currentSectionId = section.id;
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSectionId}`) {
                    link.classList.add('active');
                }
            });
        }
        window.addEventListener('scroll', updateActiveNavLink);
        updateActiveNavLink();

    </script>
</body>
</html>

