<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>紐西蘭南島慢活尊榮12日 | 互動行程地圖 v2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Aotearoa Serenity -->
    <!-- Application Structure Plan: The SPA is an enhanced "Visual Itinerary Explorer". The structure is a top-down narrative: 1) Hero introduction. 2) A "Trip Essentials" dashboard with highlights, flight insights, and a packing list. 3) An interactive Leaflet.js map for geographical overview. 4) A detailed, interactive day-by-day itinerary with richer descriptions. 5) Discussion points. This refined structure focuses on practical planning tools and information, removing the placeholder gallery for a cleaner user experience. -->
    <!-- Visualization & Content Choices: 1. Report Info: Key trip experiences. -> Goal: Provide a quick, exciting summary. -> Viz/Method: Icon-based highlight cards (HTML/Tailwind). -> Interaction: None, purely for quick visual scanning. -> Justification: Offers an immediate "at-a-glance" understanding of the trip's value proposition. 2. Report Info: Attraction details. -> Goal: Deepen user understanding and excitement. -> Viz/Method: Expanded text descriptions within the accordion (HTML/JS). -> Interaction: Accordion expand/collapse. -> Justification: Adds narrative depth and detail without cluttering the initial view, fulfilling the user's core request. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #F4F8F9; 
            color: #334155;
        }
        .leaflet-popup-content-wrapper {
            background: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .leaflet-popup-content {
            margin: 13px 19px;
            font-size: 14px;
            font-weight: 500;
            color: #1e293b;
        }
        .leaflet-popup-tip {
            background: #ffffff;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .accordion-button.open .accordion-arrow {
            transform: rotate(180deg);
        }
        .prose ul > li::before {
            background-color: #0d9488;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/90 backdrop-blur-lg sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-xl md:text-2xl font-bold text-teal-800">
                紐西蘭南島慢活尊榮之旅
            </div>
            <div class="hidden md:flex space-x-6">
                <a href="#trip-essentials" class="text-slate-600 hover:text-teal-700 transition-colors duration-300">行前準備</a>
                <a href="#interactive-map" class="text-slate-600 hover:text-teal-700 transition-colors duration-300">互動地圖</a>
                <a href="#detailed-itinerary" class="text-slate-600 hover:text-teal-700 transition-colors duration-300">詳細行程</a>
                <a href="#discussion-points" class="text-slate-600 hover:text-teal-700 transition-colors duration-300">討論事項</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 md:px-6 py-12">

        <section id="intro" class="text-center mb-12 md:mb-16">
            <h1 class="text-4xl md:text-5xl font-extrabold text-slate-800 mb-4">紐西蘭南島12日客製化行程建議</h1>
            <p class="max-w-3xl mx-auto text-lg text-slate-600">
                一份專為追求舒適與深度體驗的熟齡旅客設計的行程。透過下方的互動地圖與詳細日程表，探索這趟兼具自然壯麗與都市優雅的旅程。
            </p>
        </section>

        <section id="trip-essentials" class="mb-12 md:mb-16">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-slate-800">行前準備與亮點總覽</h2>
                <p class="mt-2 text-slate-600">在深入探索地圖與每日行程前，先快速掌握本次旅程的關鍵資訊。</p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 bg-white p-6 rounded-2xl shadow-xl border border-slate-100">
                    <h3 class="font-bold text-xl text-teal-800 mb-4">行程亮點體驗</h3>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-center">
                        <div class="bg-teal-50 p-4 rounded-lg">
                            <div class="text-4xl mb-2">🌌</div>
                            <p class="font-semibold text-teal-900">暗夜星空保護區觀星</p>
                        </div>
                        <div class="bg-teal-50 p-4 rounded-lg">
                            <div class="text-4xl mb-2">🧊</div>
                            <p class="font-semibold text-teal-900">塔斯曼冰河船之旅</p>
                        </div>
                        <div class="bg-teal-50 p-4 rounded-lg">
                            <div class="text-4xl mb-2">🚢</div>
                            <p class="font-semibold text-teal-900">米佛峽灣深度巡遊</p>
                        </div>
                        <div class="bg-teal-50 p-4 rounded-lg">
                            <div class="text-4xl mb-2">🚂</div>
                            <p class="font-semibold text-teal-900">古董蒸汽船遊湖</p>
                        </div>
                        <div class="bg-teal-50 p-4 rounded-lg">
                            <div class="text-4xl mb-2">🍇</div>
                            <p class="font-semibold text-teal-900">世界級酒莊品酒</p>
                        </div>
                        <div class="bg-teal-50 p-4 rounded-lg">
                            <div class="text-4xl mb-2">🏞️</div>
                            <p class="font-semibold text-teal-900">魔戒秘境公路馳騁</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-xl border border-slate-100">
                    <h3 class="font-bold text-xl text-teal-800 mb-4">航班建議</h3>
                    <ul class="space-y-3 text-slate-600">
                        <li><strong>直飛首選:</strong> 紐西蘭航空或長榮航空，從台北直飛奧克蘭，再轉國內線至基督城，最大化舒適度。</li>
                        <li><strong>轉機備案:</strong> 新加坡航空或國泰航空，經新加坡/香港轉機，享受頂級轉機服務。</li>
                    </ul>
                </div>
                <div class="lg:col-span-3 bg-white p-6 rounded-2xl shadow-xl border border-slate-100">
                    <h3 class="font-bold text-xl text-teal-800 mb-4">核心打包清單</h3>
                    <ul class="grid grid-cols-2 md:grid-cols-4 gap-4 text-slate-600">
                        <li class="flex items-center"><span class="text-2xl mr-2">🧥</span>多層次保暖衣物</li>
                        <li class="flex items-center"><span class="text-2xl mr-2">🌦️</span>防風防水外套</li>
                        <li class="flex items-center"><span class="text-2xl mr-2">🥾</span>舒適好走的健行鞋</li>
                        <li class="flex items-center"><span class="text-2xl mr-2">🎩</span>防曬帽與太陽眼鏡</li>
                        <li class="flex items-center"><span class="text-2xl mr-2">🧴</span>高係數防曬乳</li>
                        <li class="flex items-center"><span class="text-2xl mr-2">🦟</span>防蚊液 (特別是峽灣)</li>
                        <li class="flex items-center"><span class="text-2xl mr-2">📷</span>相機與備用電池</li>
                        <li class="flex items-center"><span class="text-2xl mr-2">🔌</span>萬國轉接頭</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="interactive-map" class="mb-12 md:mb-16">
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden p-2 md:p-4">
                <div id="map" class="h-[50vh] md:h-[65vh] w-full rounded-xl z-10"></div>
            </div>
             <p class="text-center text-sm text-slate-500 mt-4">點擊地圖上的數字標記，可查看地點簡介並跳轉至當日行程。</p>
        </section>

        <section id="detailed-itinerary" class="mb-16 md:mb-24">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-slate-800">每日詳細行程表</h2>
                <p class="mt-2 text-slate-600">點擊下方日期以展開或收合每日的詳細規劃。</p>
            </div>
            <div id="itinerary-container" class="space-y-4 max-w-4xl mx-auto">
            </div>
        </section>
        
        <section id="discussion-points" class="mt-16 md:mt-24 pt-10 border-t border-slate-200">
            <div class="max-w-4xl mx-auto">
                <h2 class="text-3xl font-bold text-slate-800 text-center mb-8">與星程旅遊進一步討論事項</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-slate-700">
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-100">
                        <h3 class="font-bold text-lg text-teal-800 mb-3">1. 車輛與司導</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li>確認車輛型號與車齡，確保乘坐舒適。</li>
                            <li>了解司導背景與經驗，是否熟悉熟齡旅客需求。</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-100">
                        <h3 class="font-bold text-lg text-teal-800 mb-3">2. 行程細節</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li>討論米佛峽灣交通方式 (建議飛機+遊船)。</li>
                            <li>確認天氣不佳時的備案。</li>
                            <li>確認各項活動的預訂與取消政策。</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-100">
                        <h3 class="font-bold text-lg text-teal-800 mb-3">3. 住宿與餐食</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li>提供建議飯店列表，或詢問其他同級推薦。</li>
                            <li>討論餐食彈性，是否多安排特色餐廳。</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border border-slate-100">
                        <h3 class="font-bold text-lg text-teal-800 mb-3">4. 客製化調整</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li>若對攝影、品酒、健行有特別興趣可加強。</li>
                            <li>可利用彈性日增加停留時間或城市。</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-800 text-white mt-16">
        <div class="container mx-auto px-6 py-8 text-center">
            <p>&copy; 2025 紐西蘭南島行程互動地圖</p>
            <p class="text-sm text-slate-400 mt-2">此為基於行程建議書製作的互動式應用程式。</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const locations = [
                { lat: -43.5321, lng: 172.6362, name: '基督城', day: 2, desc: '花園城市，南島門戶' },
                { lat: -44.0363, lng: 170.4694, name: '蒂卡波湖', day: 3, desc: '絕美星空與土耳其藍湖水' },
                { lat: -43.7343, lng: 170.0962, name: '庫克山', day: 4, desc: '紐西蘭最高峰與冰川奇景' },
                { lat: -44.6981, lng: 169.1424, name: '瓦納卡', day: 5, desc: '靜謐優美的湖畔小鎮' },
                { lat: -44.8820, lng: 168.8370, name: '箭鎮', day: 6, desc: '充滿歷史風情的淘金小鎮' },
                { lat: -44.9214, lng: 168.6626, name: '皇后鎮', day: 6, desc: '冒險與悠閒之都' },
                { lat: -44.6718, lng: 167.9238, name: '米佛峽灣', day: 7, desc: '世界第八大奇蹟，壯麗峽灣' },
                { lat: -44.8500, lng: 168.3500, name: '格林諾奇', day: 9, desc: '《魔戒》拍攝地，純淨秘境' }
            ];

            const itineraryData = [
                { day: 1, title: "啟程", icon: "✈️", details: "<h4>行前準備</h4><p>前往桃園國際機場，搭乘您首選的航空公司商務艙。在機上享受平躺座椅與精緻餐飲，充分休息，為即將到來的精彩旅程儲備精力。</p>" },
                { day: 2, title: "花園城市巡禮 | 基督城", icon: "🛶", details: "<h4>上午：抵達與安頓</h4><p>抵達奧克蘭後，輕鬆轉乘國內線班機飛往南島門戶——基督城。您的專屬司導將在機場溫馨迎接，並送您前往飯店辦理入住，稍作休整。</p><h4>下午：雅芳河的寧靜</h4><p>乘坐傳統的撐篙船，在雅芳河上靜靜漂流。兩岸垂柳依依，典雅的英式花園景致緩緩掠過，感受這座「花園城市」的寧靜與詩意。</p><h4>特色餐食</h4><ul><li><strong>午餐:</strong> 植物園內的 Ilex Cafe，在陽光與綠意中享用輕食。</li><li><strong>晚餐:</strong> The Curator's House，品嚐精緻的西班牙風味料理。</li></ul><h4>推薦住宿</h4><p>The George Hotel 或 Sudima Christchurch City。</p>" },
                { day: 3, title: "絕美星空之境 | 蒂卡波湖", icon: "🌌", details: "<h4>上午：麥肯錫鄉村風光</h4><p>早餐後，驅車向內陸進發，窗外是坎特伯雷平原廣闊的田園景色，逐漸轉變為麥肯錫地區壯麗的高山地貌。</p><h4>下午：土耳其藍的震撼</h4><p>抵達蒂卡波湖，您將被那因冰川細微岩石粉末折射陽光而形成的、不可思議的土耳其藍湖水所震撼。參觀湖畔的好牧羊人教堂，這座石砌小教堂以星空為背景的畫面，是紐西蘭的經典象徵。</p><h4>夜晚：探索星河</h4><p>晚餐後，前往世界級的暗夜自然保護區，參加約翰山天文台的觀星團。在幾乎無光害的環境下，由專業嚮導帶您認識南半球的星座與銀河，那份璀璨與浩瀚將成為永生難忘的回憶。</p><h4>特色餐食</h4><ul><li><strong>午餐:</strong> Fairlie Bakehouse 的特色鮭魚派，在地人氣美食。</li><li><strong>晚餐:</strong> Kohan Restaurant 日式湖畔餐廳，享受美食與湖景。</li></ul><h4>推薦住宿</h4><p>Peppers Bluewater Resort 或 The Mackenzie Suites。</p>" },
                { day: 4, title: "冰川奇景 | 庫克山", icon: "🏔️", details: "<h4>上午：藍色牛奶湖與冰川鮭魚</h4><p>前往普卡基湖，湖水呈現夢幻般的乳藍色，是遠眺紐西蘭第一高峰——奧拉基/庫克山的最佳地點。在湖畔的 Mt. Cook Alpine Salmon 品嚐用純淨冰川雪水養殖的鮭魚，口感極致鮮甜。</p><h4>下午：冰河世紀的觸動</h4><p>深入庫克山國家公園，入住景觀絕佳的隱士廬飯店。強烈推薦參加塔斯曼冰河船之旅，乘船在冰川湖上，近距離觀賞從冰川末端崩落的巨大浮冰，感受大自然的宏偉與力量。</p><h4>特色餐食</h4><ul><li><strong>晚餐:</strong> 隱士廬飯店 (The Hermitage Hotel) Panorama Room 景觀餐廳，窗外就是庫克山的壯麗景色。</li></ul><h4>推薦住宿</h4><p>The Hermitage Hotel (務必預訂 Premium Plus 房型，享正對庫克山的無敵景觀)。</p>" },
                { day: 5, title: "靜謐湖畔小鎮 | 瓦納卡", icon: "🌳", details: "<h4>上午：庫克山的寧靜晨光</h4><p>享受一個沒有晨喚的早晨，或選擇一條輕鬆的步道（如 Hooker Valley Track 前段）散步，在清新的空氣中欣賞冰川與山谷的壯麗景色。</p><h4>下午：尋找湖中孤樹</h4><p>告別庫克山，驅車前往氣氛悠閒的湖畔小鎮瓦納卡。抵達後，到湖邊尋找那棵獨自佇立在水中的「瓦納卡孤樹」，它是攝影師們鍾愛的焦點，也是堅韌與孤寂之美的象徵。</p><h4>特色餐食</h4><ul><li><strong>晚餐:</strong> Bistro Gentil 法式餐廳或 Kika 創意料理。</li></ul><h4>推薦住宿</h4><p>Edgewater Hotel 或 Wanaka Luxury Apartments。</p>" },
                { day: 6, title: "冒險與悠閒之都 | 皇后鎮", icon: "🚠", details: "<h4>上午：穿越皇冠山脈</h4><p>經由紐西蘭海拔最高的公路——皇冠山脈公路前往皇后鎮，沿途在制高點停下，欣賞峽谷與盆地的壯闊景色。</p><h4>下午：淘金歲月與雲端視野</h4><p>先探訪充滿19世紀淘金熱時期風情的箭鎮，感受歷史的痕跡。隨後抵達皇后鎮，搭乘天空纜車登上鮑伯峰，在觀景台以270度的無敵視角，將瓦卡蒂普湖的深邃藍與群山環繞的皇后鎮美景盡收眼底。</p><h4>特色餐食</h4><ul><li><strong>晚餐:</strong> Stratosfare Restaurant & Bar 山頂自助餐，在璀璨夜景的陪伴下享用豐盛美食。</li></ul><h4>推薦住宿</h4><p>Hotel St Moritz 或 The Rees Hotel。</p>" },
                { day: 7, title: "世界第八大奇蹟 | 米佛峽灣", icon: "🚢", details: "<h4>全天：空中與水上的雙重饗宴</h4><p>為了最舒適的體驗，強烈建議選擇「飛機-遊船-飛機」的行程。從皇后鎮搭乘觀光飛機，從空中俯瞰連綿的雪山、冰川與雨林，約40分鐘即可抵達米佛峽灣。接著登上遊船，深入峽灣，欣賞從天而降的斯特林瀑布與教冠峰的雄偉，並尋找海豹、海豚的蹤跡。下午再搭機返回，免去單程4-5小時的長途拉車之苦。</p><h4>特色餐食</h4><ul><li><strong>午餐:</strong> 遊船上提供的自助餐或輕食。</li><li><strong>晚餐:</strong> Botswana Butchery，皇后鎮頂級牛排館。</li></ul><h4>推薦住宿</h4><p>同前一晚。</p>" },
                { day: 8, title: "皇后鎮自由探索", icon: "🍇", details: "<h4>全天：您的皇后鎮時光</h4><p>今日完全由您自主安排，享受皇后鎮的多元魅力。</p><ul><li><strong>悠閒組:</strong> 搭乘百年歷史的TSS厄恩斯勞號古董蒸汽船，在瓦卡蒂普湖上航行，並在瓦爾特峰高原牧場觀賞剪羊毛秀、享用BBQ午餐。</li><li><strong>品味組:</strong> 前往有「葡萄酒之谷」美譽的吉布斯頓產區，參加酒莊品酒之旅，品嚐世界知名的黑皮諾紅酒。</li><li><strong>放鬆組:</strong> 在鎮上悠閒逛街，或預約 Onsen Hot Pools，在私人溫泉中欣賞峽谷美景，徹底放鬆身心。</li></ul><h4>推薦住宿</h4><p>同前一晚。</p>" },
                { day: 9, title: "魔戒秘境 | 格林諾奇", icon: "🏞️", details: "<h4>上午：世界級景觀公路</h4><p>驅車沿著瓦卡蒂普湖畔，前往有「魔戒小鎮」之稱的格林諾奇。這段公路被譽為世界最美的公路之一，湖光山色，美不勝收。</p><h4>下午：深入中土世界</h4><p>格林諾奇擁有純淨無瑕的自然風光，是《魔戒》中艾辛格等場景的拍攝地。您可以選擇參加刺激的噴射快艇之旅，穿梭在清澈的達特河上，深入阿斯帕林山國家公園；或是在小鎮周邊輕鬆散步，感受天堂般的寧靜。</p><h4>特色餐食</h4><ul><li><strong>晚餐:</strong> Blue Kanu，融合太平洋島嶼與亞洲風味的特色餐廳。</li></ul><h4>推薦住宿</h4><p>同前一晚。</p>" },
                { day: 10, title: "告別南島", icon: "🛍️", details: "<h4>上午：最後的巡禮</h4><p>享受在皇后鎮的最後一個悠閒上午，可以去市區的特色小店逛逛，購買一些麥盧卡蜂蜜、美麗諾羊毛製品等伴手禮。</p><h4>下午：踏上歸途</h4><p>前往皇后鎮機場，搭乘國內線班機飛往奧克蘭，準備銜接返回台北的國際航班。</p>" },
                { day: 11, title: "返回溫暖的家", icon: "🏠", details: "<p>班機於清晨或上午抵達台北，帶著滿滿的美好回憶，結束這趟回味無窮的紐西蘭南島尊榮之旅。</p>" },
                { day: 12, title: "彈性預留日", icon: "➕", details: "<p>此為彈性日，可安插在您最喜歡的城市，例如在皇后鎮多停留一天，享受更多悠閒時光；或是在行程中增加但尼丁等城市，探索蘇格蘭風情。</p>" }
            ];

            const map = L.map('map').setView([-44.0, 170.0], 6);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            const latlngs = locations.map(loc => [loc.lat, loc.lng]);
            const polyline = L.polyline(latlngs, { color: '#005a6e', weight: 3, opacity: 0.7 }).addTo(map);
            map.fitBounds(polyline.getBounds().pad(0.2));

            locations.forEach((loc, index) => {
                const customIcon = L.divIcon({
                    html: `<div class="w-8 h-8 bg-teal-700 text-white rounded-full flex items-center justify-center font-bold text-sm shadow-lg border-2 border-white">${index + 1}</div>`,
                    className: '',
                    iconSize: [32, 32],
                    iconAnchor: [16, 16],
                    popupAnchor: [0, -20]
                });
                const marker = L.marker([loc.lat, loc.lng], { icon: customIcon }).addTo(map)
                    .bindPopup(`<b>${loc.name}</b><br>${loc.desc}`);
                
                marker.on('click', () => {
                    const targetElement = document.getElementById(`day-${loc.day}`);
                    if (targetElement) {
                        const accordionButton = targetElement.querySelector('.accordion-button');
                        if (!accordionButton.classList.contains('open')) {
                            accordionButton.click();
                        }
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                });
            });

            const itineraryContainer = document.getElementById('itinerary-container');
            itineraryData.forEach(item => {
                const div = document.createElement('div');
                div.id = `day-${item.day}`;
                div.className = 'bg-white rounded-xl shadow-lg border border-slate-100 overflow-hidden';
                div.innerHTML = `
                    <button class="accordion-button w-full flex justify-between items-center p-4 md:p-5 text-left transition-colors duration-300 hover:bg-teal-50">
                        <div class="flex items-center">
                            <span class="text-2xl mr-4">${item.icon}</span>
                            <div>
                                <span class="text-sm font-semibold text-teal-700">DAY ${item.day}</span>
                                <h3 class="text-lg font-bold text-slate-800">${item.title}</h3>
                            </div>
                        </div>
                        <svg class="accordion-arrow w-6 h-6 text-slate-500 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="accordion-content">
                        <div class="p-5 pt-0 text-slate-600 prose prose-sm max-w-none">
                            ${item.details.replace(/<ul>/g, '<ul class="list-disc list-inside space-y-2">').replace(/<h4>/g, '<h4 class="font-bold text-slate-700 mt-4 mb-2">').replace(/<strong>/g, '<strong class="font-semibold text-slate-700">')}
                        </div>
                    </div>
                `;
                itineraryContainer.appendChild(div);
            });

            itineraryContainer.addEventListener('click', function(e) {
                const button = e.target.closest('.accordion-button');
                if (button) {
                    const content = button.nextElementSibling;
                    const allContents = document.querySelectorAll('.accordion-content');
                    const allButtons = document.querySelectorAll('.accordion-button');

                    const wasOpen = button.classList.contains('open');

                    allButtons.forEach(b => b.classList.remove('open'));
                    allContents.forEach(c => c.style.maxHeight = null);

                    if (!wasOpen) {
                        button.classList.add('open');
                        content.style.maxHeight = content.scrollHeight + "px";
                    }
                }
            });
        });
    </script>
</body>
</html>
