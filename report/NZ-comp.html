<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç´è¥¿è˜­å—å³¶è¡Œç¨‹äº’å‹•æ¯”è¼ƒåˆ†æ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: å‡ç´šç‚ºäº”å¤§é ç±¤çš„äº’å‹•å„€è¡¨æ¿ã€‚1.ã€Œç¸½è¦½èˆ‡æ¨è–¦ã€æä¾›è³ªåŒ–åˆ†æèˆ‡é›·é”åœ–ã€‚2.æ–°å¢ã€Œèˆªç­èˆ‡æ™‚å·®ã€å°ˆé ï¼Œè©³ç´°è§£æé£›è¡Œé«”é©—èˆ‡æ™‚å·®èª¿é©ç­–ç•¥ã€‚3.ã€Œè¡Œç¨‹è·¯ç·šåœ°åœ–ã€æä¾›åœ°ç†ç©ºé–“æ¯”è¼ƒã€‚4.ã€Œæ¯æ—¥è¡Œç¨‹å°ç…§ã€å°å…¥å‰µæ–°çš„ã€Œèˆ’é©åº¦æŒ‡æ¨™ã€(é«”åŠ›ã€æ‹‰è»Šã€ä½å®¿ã€äº®é»)ï¼Œè®“ä½¿ç”¨è€…èƒ½æ¨¡æ“¬æ¯æ—¥æ„Ÿå—ã€‚5.ã€Œæ™¯é»æ¸…å–®æª¢æŸ¥è¡¨ã€æä¾›å…¨é¢çš„æ™¯é»è¦†è“‹æ¯”è¼ƒã€‚æ­¤çµæ§‹å¾å®è§€æ¯”è¼ƒã€é£›è¡Œé«”é©—ã€åœ°ç†è·¯ç·šï¼Œåˆ°å¾®è§€çš„æ¯æ—¥æ„Ÿå—ï¼Œæä¾›äº†ä¸€å€‹å…¨æ–¹ä½çš„æ±ºç­–è¼”åŠ©æµç¨‹ã€‚ -->
    <!-- Visualization & Content Choices: ç¸½è¦½é ä½¿ç”¨Chart.jsé›·é”åœ–ã€‚åœ°åœ–é ç±¤ä½¿ç”¨Leaflet.jsæ­é…æ°¸ä¹…ä¸­æ–‡æ¨™ç±¤ã€‚æ¯æ—¥è¡Œç¨‹é ç±¤ä½¿ç”¨JSå‹•æ…‹ç”ŸæˆåŒ…å«Unicodeåœ–ç¤ºçš„èˆ’é©åº¦æŒ‡æ¨™å¡ç‰‡ï¼Œå°‡æŠ½è±¡çš„æ—…éŠé«”é©—æ•¸æ“šåŒ–ã€‚èˆªç­è³‡è¨Šé ç±¤ä½¿ç”¨HTML/CSSçµæ§‹åŒ–å‘ˆç¾æ™‚é–“è»¸ã€‚æ™¯é»æ¸…å–®ä½¿ç”¨JSå‹•æ…‹ç”Ÿæˆè¡¨æ ¼ã€‚æ‰€æœ‰äº’å‹•ç”±Vanilla JSé©…å‹•ï¼Œç¢ºä¿æµæš¢çš„å–®é æ‡‰ç”¨é«”é©—ã€‚ -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', 'Noto Sans TC', sans-serif; background-color: #f8f9fa; }
        .tab-btn { transition: all 0.3s ease; border-bottom: 3px solid transparent; white-space: nowrap; }
        .tab-btn.active { border-bottom-color: #1e40af; color: #1e40af; font-weight: 600; }
        .itinerary-btn { transition: all 0.3s ease; }
        .itinerary-btn.active { background-color: #1e40af; color: white; transform: translateY(-2px); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .summary-card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .summary-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .table-cell-checked { color: #16a34a; font-weight: bold; font-size: 1.5rem; }
        .chart-container { position: relative; width: 100%; max-width: 700px; margin-left: auto; margin-right: auto; height: 40vh; max-height: 500px; }
        #map { height: 65vh; border-radius: 0.75rem; border: 1px solid #e5e7eb; }
        .leaflet-tooltip-permanent { background-color: rgba(255, 255, 255, 0.8); border: 1px solid #3388ff; border-radius: 4px; padding: 2px 5px; font-weight: bold; color: #1e40af; white-space: nowrap; box-shadow: 0 1px 3px rgba(0,0,0,0.2); }
        .leaflet-popup-content { font-family: 'Noto Sans TC', sans-serif; }
        .comfort-metric { display: flex; align-items: center; margin-top: 4px; font-size: 0.875rem; }
        .comfort-metric span:first-child { margin-right: 0.5rem; }
        .timeline::before { content: ''; position: absolute; left: 1.25rem; top: 1rem; bottom: 1rem; width: 2px; background-color: #d1d5db; }
        .timeline-item { position: relative; padding-left: 3.5rem; }
        .timeline-dot { position: absolute; left: 0.75rem; top: 0.5rem; width: 1.25rem; height: 1.25rem; }
        @media (max-width: 768px) { .chart-container { height: 50vh; } #map { height: 50vh; } }
    </style>
</head>
<body class="bg-stone-50 text-gray-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-5xl font-bold text-blue-900">ç´è¥¿è˜­å—å³¶è¡Œç¨‹äº’å‹•æ¯”è¼ƒåˆ†æ</h1>
            <p class="mt-2 md:mt-4 text-lg text-gray-600">ç‚ºç†Ÿé½¡æ—…å®¢é‡èº«æ‰“é€ çš„æ±ºç­–å·¥å…·</p>
            <p class="mt-2 text-gray-500 max-w-3xl mx-auto">è«‹é»é¸ä¸‹æ–¹è¡Œç¨‹æŒ‰éˆ•ï¼Œæˆ–é€éé ç±¤åˆ‡æ›ä¸åŒæ¯”è¼ƒç¶­åº¦ï¼Œå¹«åŠ©æ‚¨è¼•é¬†æ‰¾åˆ°æœ€é©åˆçš„ç´è¥¿è˜­ä¹‹æ—…ã€‚</p>
        </header>

        <main>
            <div id="controls" class="bg-white p-4 rounded-xl shadow-md mb-8 sticky top-4 z-10">
                <h2 class="text-xl font-semibold text-center mb-4 text-gray-700">è«‹é¸æ“‡æ‚¨æƒ³æ¯”è¼ƒçš„è¡Œç¨‹</h2>
                <div class="flex flex-wrap justify-center gap-2 md:gap-4">
                    <button class="itinerary-btn px-4 py-2 rounded-full bg-gray-200 text-gray-700 font-semibold" data-itinerary="A">è¡Œç¨‹ A (11å¤©)</button>
                    <button class="itinerary-btn px-4 py-2 rounded-full bg-gray-200 text-gray-700 font-semibold" data-itinerary="B">è¡Œç¨‹ B (10å¤©)</button>
                    <button class="itinerary-btn px-4 py-2 rounded-full bg-gray-200 text-gray-700 font-semibold" data-itinerary="C">è¡Œç¨‹ C (13å¤©)</button>
                    <button class="itinerary-btn px-4 py-2 rounded-full bg-gray-200 text-gray-700 font-semibold" data-itinerary="D">è¡Œç¨‹ D (10å¤©)</button>
                    <button class="itinerary-btn px-4 py-2 rounded-full bg-gray-200 text-gray-700 font-semibold" data-itinerary="E">è¡Œç¨‹ E (10å¤©)</button>
                    <button class="itinerary-btn px-4 py-2 rounded-full bg-blue-800 text-white font-semibold active" data-itinerary="all">æ¯”è¼ƒå…¨éƒ¨</button>
                </div>
            </div>

            <div class="bg-white rounded-xl shadow-lg">
                <div id="tabs" class="flex border-b border-gray-200 px-4 md:px-8 overflow-x-auto">
                    <button class="tab-btn py-4 px-3 md:px-6 text-gray-500 active" data-tab="overview">ç¸½è¦½èˆ‡æ¨è–¦</button>
                    <button class="tab-btn py-4 px-3 md:px-6 text-gray-500" data-tab="flight">èˆªç­èˆ‡æ™‚å·®</button>
                    <button class="tab-btn py-4 px-3 md:px-6 text-gray-500" data-tab="map">è¡Œç¨‹è·¯ç·šåœ°åœ–</button>
                    <button class="tab-btn py-4 px-3 md:px-6 text-gray-500" data-tab="daily">æ¯æ—¥è¡Œç¨‹å°ç…§</button>
                    <button class="tab-btn py-4 px-3 md:px-6 text-gray-500" data-tab="checklist">æ™¯é»æ¸…å–®æª¢æŸ¥è¡¨</button>
                </div>

                <div id="tab-content" class="p-4 md:p-8">
                    <div id="overview-content">
                        <section id="summary-section" class="mb-8"></section>
                        <section>
                            <h3 class="text-2xl font-bold text-center mb-4 text-blue-800">è¡Œç¨‹é¢¨æ ¼é›·é”åœ–åˆ†æ</h3>
                            <div class="chart-container"><canvas id="radarChart"></canvas></div>
                        </section>
                    </div>
                    <div id="flight-content" class="hidden">
                        <h2 class="text-2xl md:text-3xl font-bold text-blue-800 mb-2 text-center">èˆªç­é«”é©—èˆ‡æ™‚å·®èª¿é©æŒ‡å—</h2>
                        <p class="text-center text-gray-600 mb-8 max-w-3xl mx-auto">é£›è¡Œæ˜¯æ—…ç¨‹çš„ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯å½±éŸ¿é«”åŠ›èˆ‡å¿ƒæƒ…çš„é—œéµã€‚æ­¤è™•ç‚ºæ‚¨è§£æå…©ç¨®ä¸»è¦çš„é£›è¡Œæ–¹å¼ï¼Œå¤§éƒ¨åˆ†è¡Œç¨‹æ¡ç”¨ç´è¥¿è˜­èˆªç©ºç›´é£›ï¼Œéƒ¨åˆ†è¡Œç¨‹Eçš„æ—¥æœŸå‰‡æä¾›åœ‹æ³°èˆªç©ºè½‰æ©Ÿé¸é …ã€‚</p>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div class="bg-blue-50 p-6 rounded-lg border border-blue-200">
                                <h3 class="text-xl font-semibold text-blue-900 mb-4 flex items-center"><img src="https://dc.travel.net.tw:8443/Images/DPC/TO/logo_060055/NZ.png" class="h-6 mr-2" alt="ç´è¥¿è˜­èˆªç©º"> ç´è¥¿è˜­èˆªç©º (NZ) - ç›´é£›</h3>
                                <div class="mb-4 p-4 bg-white rounded-md">
                                    <h4 class="font-bold text-lg mb-2">âœˆï¸ å»ç¨‹ (æ™šå»æ—©å›)</h4>
                                    <div class="relative timeline">
                                        <div class="timeline-item mb-4"><div class="timeline-dot bg-blue-500 rounded-full"></div><p class="font-bold">å°ç£æ™‚é–“ 18:30 (NZ78)</p><p class="text-gray-700">å¾æ¡ƒåœ’æ©Ÿå ´ (TPE) èµ·é£›ã€‚</p></div>
                                        <div class="timeline-item mb-4"><div class="timeline-dot bg-blue-500 rounded-full"></div><p class="font-bold">é£›è¡Œé€”ä¸­ (ç´„ 11 å°æ™‚)</p></div>
                                        <div class="timeline-item"><div class="timeline-dot bg-blue-500 rounded-full"></div><p class="font-bold">ç´è¥¿è˜­æ™‚é–“ éš”æ—¥ 10:20</p><p class="text-gray-700">æŠµé”å¥§å…‹è˜­ (AKL)ã€‚</p></div>
                                    </div>
                                </div>
                                <div class="mb-4 p-4 bg-white rounded-md">
                                    <h4 class="font-bold text-lg mb-2">âœˆï¸ å›ç¨‹ (æ™šå»æ—©å›)</h4>
                                    <div class="relative timeline">
                                        <div class="timeline-item mb-4"><div class="timeline-dot bg-blue-500 rounded-full"></div><p class="font-bold">ç´è¥¿è˜­æ™‚é–“ 10:40 (NZ77)</p><p class="text-gray-700">å¾å¥§å…‹è˜­ (AKL) èµ·é£›ã€‚</p></div>
                                        <div class="timeline-item mb-4"><div class="timeline-dot bg-blue-500 rounded-full"></div><p class="font-bold">é£›è¡Œé€”ä¸­ (ç´„ 11.5 å°æ™‚)</p></div>
                                        <div class="timeline-item"><div class="timeline-dot bg-blue-500 rounded-full"></div><p class="font-bold">å°ç£æ™‚é–“ åŒæ—¥ 17:25</p><p class="text-gray-700">æŠµé”æ¡ƒåœ’æ©Ÿå ´ (TPE)ã€‚</p></div>
                                    </div>
                                </div>
                                <div class="bg-white p-4 rounded-md">
                                    <h4 class="font-bold text-lg mb-2">å„ªé»åˆ†æ</h4>
                                    <p class="text-gray-700">ç„¡é ˆè½‰æ©Ÿï¼Œç¸½é£›è¡Œæ™‚é–“æœ€çŸ­ï¼Œæ˜¯é«”åŠ›è² æ“”æœ€å°ã€æœ€èˆ’é©çš„é¸æ“‡ï¼Œç‰¹åˆ¥é©åˆç†Ÿé½¡æ—…å®¢ã€‚æŠµé”èˆ‡é›¢é–‹çš„æ™‚é–“é»æœ‰åˆ©æ–¼æ™‚å·®èª¿æ•´ã€‚</p>
                                </div>
                            </div>
                            <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
                                <h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center"><img src="https://dc.travel.net.tw:8443/Images/DPC/TO/logo_060055/CX.png" class="h-6 mr-2" alt="åœ‹æ³°èˆªç©º"> åœ‹æ³°èˆªç©º (CX) - è½‰æ©Ÿ</h3>
                                <div class="mb-4 p-4 bg-white rounded-md">
                                    <h4 class="font-bold text-lg mb-2">âœˆï¸ å»ç¨‹ (åˆå»åˆå›)</h4>
                                    <div class="relative timeline">
                                        <div class="timeline-item mb-4"><div class="timeline-dot bg-gray-500 rounded-full"></div><p class="font-bold">å°ç£æ™‚é–“ 13:15</p><p class="text-gray-700">æ¡ƒåœ’ (TPE) â†’ é¦™æ¸¯ (HKG)ã€‚</p></div>
                                        <div class="timeline-item mb-4"><div class="timeline-dot bg-gray-500 rounded-full"></div><p class="font-bold">é¦™æ¸¯æ™‚é–“ 19:00</p><p class="text-gray-700">é¦™æ¸¯ (HKG) â†’ å¥§å…‹è˜­ (AKL)ã€‚</p></div>
                                        <div class="timeline-item"><div class="timeline-dot bg-gray-500 rounded-full"></div><p class="font-bold">ç´è¥¿è˜­æ™‚é–“ éš”æ—¥ 10:05</p><p class="text-gray-700">æŠµé”å¥§å…‹è˜­ (AKL)ã€‚</p></div>
                                    </div>
                                </div>
                                <div class="mb-4 p-4 bg-white rounded-md">
                                    <h4 class="font-bold text-lg mb-2">âœˆï¸ å›ç¨‹ (åˆå»åˆå›)</h4>
                                    <div class="relative timeline">
                                        <div class="timeline-item mb-4"><div class="timeline-dot bg-gray-500 rounded-full"></div><p class="font-bold">ç´è¥¿è˜­æ™‚é–“ 14:50</p><p class="text-gray-700">å¥§å…‹è˜­ (AKL) â†’ é¦™æ¸¯ (HKG)ã€‚</p></div>
                                        <div class="timeline-item mb-4"><div class="timeline-dot bg-gray-500 rounded-full"></div><p class="font-bold">é¦™æ¸¯æ™‚é–“ éš”æ—¥ 05:05</p><p class="text-gray-700">é¦™æ¸¯ (HKG) â†’ æ¡ƒåœ’ (TPE)ã€‚</p></div>
                                        <div class="timeline-item"><div class="timeline-dot bg-gray-500 rounded-full"></div><p class="font-bold">å°ç£æ™‚é–“ éš”æ—¥ 07:00</p><p class="text-gray-700">æŠµé”æ¡ƒåœ’æ©Ÿå ´ (TPE)ã€‚</p></div>
                                    </div>
                                </div>
                                <div class="bg-white p-4 rounded-md">
                                    <h4 class="font-bold text-lg mb-2">å„ªé»/è€ƒé‡é»åˆ†æ</h4>
                                    <p class="text-gray-700">éƒ¨åˆ†æ—¥æœŸæä¾›æ­¤é¸é …ï¼Œå¯èƒ½åœ¨åƒ¹æ ¼ä¸Šæ›´æœ‰å½ˆæ€§ã€‚ä½†éœ€åœ¨é¦™æ¸¯è½‰æ©Ÿï¼Œç¸½æ—…è¡Œæ™‚é–“è¼ƒé•·ï¼Œä¸”å›ç¨‹ç‚ºæ¸…æ™¨æŠµé”ï¼Œå°é«”åŠ›æ¢å¾©æ˜¯è¼ƒå¤§çš„è€ƒé©—ã€‚</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="map-content" class="hidden">
                         <div id="map-controls" class="mb-4 flex flex-wrap justify-center gap-x-4 gap-y-2"></div>
                         <div id="map"></div>
                    </div>
                    <div id="daily-content" class="hidden"></div>
                    <div id="checklist-content" class="hidden"></div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const data = {
            tours: {
                'A': { name: 'è¡Œç¨‹ A (ä¸Šé †) - å—å³¶ç²¾è¯11å¤©', price: 'NT$198,000 èµ·', duration: '11å¤©9å¤œ', core: 'çš‡åé®æ·±åº¦æ…¢éŠ', highlights: ['çš‡åé®é€£æ³Š3æ™šï¼Œç“¦ç´å¡é€£æ³Š2æ™š', 'çš‡åé®äº«æ•´æ—¥è‡ªç”±æ´»å‹•', 'å¥§å…‹è˜­å¸†èˆ¹éŠæ¸¯é«”é©—'], pros: 'æ­¥èª¿æœ€æ‚ é–’ï¼Œå¤§å¹…æ¸›å°‘æ›´æ›é£¯åº—çš„é »ç‡ï¼Œé©åˆå–œæ­¡æ·±åº¦å®šé»ã€ä¸æ„›å¥”æ³¢çš„æ—…å®¢ã€‚', cons: 'æ™¯é»ç¨ç‰¹æ€§ç›¸å°è¼ƒå°‘ï¼Œå±¬æ–¼ç¶“å…¸è·¯ç·šçš„å„ªåŒ–ç‰ˆï¼Œè²»ç”¨ä¹Ÿè¼ƒé«˜ã€‚', recommendation: 'è¿½æ±‚æ¥µè‡´æ‚ é–’èˆ‡è¡Œç¨‹å½ˆæ€§çš„æ—…å®¢', scores: [5, 4, 3, 2, 3], color: '#ef4444' },
                'B': { name: 'è¡Œç¨‹ B (ä¸Šé †) - å—å³¶ç²¾è¯10å¤©', price: 'NT$192,800 èµ·', duration: '10å¤©8å¤œ', core: 'åŸºç£åŸå‘¨é‚Šç‰¹è‰²æ™¯é»', highlights: ['æ¢è¨ªæ³•åœ‹é¢¨æƒ…å°é®é˜¿å¡ç¾…é˜¿', 'èç‘ªæ‹‰ç¾Šé§ç‰§å ´è¦ªå¯†äº’å‹•', 'çš‡åé®é€£æ³Š2æ™šï¼Œæ­¥èª¿é©ä¸­'], pros: 'è¡Œç¨‹ç¨ç‰¹ï¼ŒåŒ…å«å¯æ„›å‹•ç‰©èˆ‡äººæ–‡å°é®ï¼Œèƒ½é«”é©—åˆ°ä¸åŒæ–¼ç´”è‡ªç„¶é¢¨å…‰çš„æ¨‚è¶£ã€‚', cons: 'è¡Œç¨‹è¼ƒç‚ºç·Šæ¹Šï¼Œæ¯æ—¥ç§»å‹•è·é›¢ä¸çŸ­ï¼Œéœ€è¦ä¸€å®šçš„é«”åŠ›ã€‚', recommendation: 'å–œæ„›äººæ–‡é¢¨æƒ…èˆ‡å‹•ç‰©äº’å‹•çš„æ—…å®¢', scores: [3, 4, 4, 3, 4], color: '#3b82f6' },
                'C': { name: 'è¡Œç¨‹ C (å°Šæ¦®) - å—å³¶æ·±åº¦13å¤©', price: 'NT$188,800 èµ·', duration: '13å¤©11å¤œ', core: 'å—å³¶æ±è¥¿å²¸å…¨è¦½', highlights: ['æ­ä¹˜ä¸–ç•Œç´šé«˜å±±è§€æ™¯ç«è»Š', 'é›™å†°æ²³é«”é©— (å¡”æ–¯æ›¼+æ³•è˜­èŒ²ç´„ç‘Ÿå¤«)', 'è¥¿æµ·å²¸åƒå±¤å²©å¥‡æ™¯'], pros: 'æ™¯è§€æœ€å…¨é¢ï¼Œèƒ½ä¸€æ¬¡é£½è¦½å—å³¶æ±è¥¿å…©å²¸æˆªç„¶ä¸åŒçš„åœ°è²Œï¼Œç«è»Šé«”é©—èˆ’é©ä¸”é›£å¿˜ã€‚', cons: 'å¤©æ•¸æœ€é•·ï¼Œæ•´é«”æ‹‰è»Šè·é›¢ä¹Ÿæœ€é•·ï¼Œå°é«”åŠ›æ˜¯ä¸€å¤§è€ƒé©—ã€‚', recommendation: 'æƒ³ä¸€æ¬¡çœ‹éå—å³¶å¤šæ¨£åœ°è²Œçš„é¢¨æ™¯æ„›å¥½è€…', scores: [3, 5, 5, 4, 4], color: '#f97316' },
                'D': { name: 'è¡Œç¨‹ D (å°Šæ¦®) - å—å³¶æ¼«éŠ10å¤©', price: 'NT$154,800 èµ·', duration: '10å¤©8å¤œ', core: 'äº”æ¹–å››Highï¼Œæµ·é™¸ç©ºé«”é©—', highlights: ['ç›´å‡æ©Ÿè§€å…‰é£›è¡Œï¼Œä¿¯ç°å†°æ²³', 'ç“¦ç´å¡æ¹–éŠèˆ¹èˆ‡ç’°æ¹–è‡ªè¡Œè»Š', 'æ´»å‹•è±å¯Œï¼Œå‹•æ„Ÿåè¶³'], pros: 'é«”é©—æœ€å¤šå…ƒï¼ŒåŒ…å«æµ·é™¸ç©ºä¸‰ç¨®è¦–è§’ï¼Œæ´»å‹•å®‰æ’å……æ»¿é©šå–œèˆ‡æ¨‚è¶£ã€‚', cons: 'æ´»å‹•æ€§è³ªè¼ƒå‹•æ…‹ï¼Œå¦‚è‡ªè¡Œè»Šç­‰é …ç›®ï¼Œå°é«”èƒ½æœ‰ä¸€å®šè¦æ±‚ã€‚', recommendation: 'é«”åŠ›å……æ²›ï¼Œè¿½æ±‚ç¨ç‰¹æ„Ÿå®˜é«”é©—çš„æ—…å®¢', scores: [2, 4, 5, 5, 5], color: '#10b981' },
                'E': { name: 'è¡Œç¨‹ E (å°Šæ¦®) - æ„›æˆ€å—å³¶10å¤©', price: 'NT$134,800 èµ·', duration: '10å¤©8å¤œ', core: 'æ±æµ·å²¸ç¶“å…¸è·¯ç·š', highlights: ['åƒ¹æ ¼æœ€å…·ç«¶çˆ­åŠ›', 'æ¶µè“‹æ±æµ·å²¸æ‰€æœ‰ç¶“å…¸æ™¯é»', 'çš‡å®¶ä¿¡å¤©ç¿ç”Ÿæ…‹é«”é©—'], pros: 'æ€§åƒ¹æ¯”æœ€é«˜ï¼Œç”¨æœ€ç¶“æ¿Ÿçš„é ç®—éŠè¦½å—å³¶æ±å²¸ç²¾è¯ï¼Œè·¯ç·šç¶“å…¸é †æš¢ã€‚', cons: 'æœªå®‰æ’åœ¨çš‡åé®æˆ–ç“¦ç´å¡é€£æ³Šï¼Œè¡Œç¨‹ç·Šæ¹Šåº¦è¼ƒé«˜ï¼Œä½å®¿é«”é©—è¼ƒç‚ºåŸºç¤ã€‚', recommendation: 'é ç®—æœ‰é™ä½†ä¸æƒ³éŒ¯éç¶“å…¸çš„æ—…å®¢', scores: [3, 3, 3, 3, 5], color: '#8b5cf6' }
            },
            daily: [
                { day: 1, A: {text:'âœˆï¸ æ¡ƒåœ’â†’å¥§å…‹è˜­', exertion:1, driveTime:'-', lodging:'æ©Ÿä¸Š', highlight:'æ­æ©Ÿ'}, B: {text:'âœˆï¸ æ¡ƒåœ’â†’å¥§å…‹è˜­', exertion:1, driveTime:'-', lodging:'æ©Ÿä¸Š', highlight:'æ­æ©Ÿ'}, C: {text:'âœˆï¸ æ¡ƒåœ’â†’å¥§å…‹è˜­', exertion:1, driveTime:'-', lodging:'æ©Ÿä¸Š', highlight:'æ­æ©Ÿ'}, D: {text:'âœˆï¸ æ¡ƒåœ’â†’å¥§å…‹è˜­', exertion:1, driveTime:'-', lodging:'æ©Ÿä¸Š', highlight:'æ­æ©Ÿ'}, E: {text:'âœˆï¸ æ¡ƒåœ’â†’å¥§å…‹è˜­', exertion:1, driveTime:'-', lodging:'æ©Ÿä¸Š', highlight:'æ­æ©Ÿ'} },
                { day: 2, A: {text:'âœˆï¸ å¥§å…‹è˜­â†’åŸºç£åŸ', exertion:2, driveTime:'ç´„ 1.5 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'äºèŠ³æ²³æ’ç¯™èˆ¹'}, B: {text:'âœˆï¸ å¥§å…‹è˜­â†’åŸºç£åŸ', exertion:2, driveTime:'ç´„ 1.5 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'äºèŠ³æ²³æ’ç¯™èˆ¹'}, C: {text:'âœˆï¸ å¥§å…‹è˜­â†’åŸºç£åŸ', exertion:2, driveTime:'ç´„ 1.5 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'äºèŠ³æ²³æ’ç¯™èˆ¹'}, D: {text:'âœˆï¸ å¥§å…‹è˜­â†’åŸºç£åŸ', exertion:2, driveTime:'ç´„ 1.5 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'äºèŠ³æ²³æ’ç¯™èˆ¹'}, E: {text:'âœˆï¸ å¥§å…‹è˜­â†’åŸºç£åŸ', exertion:2, driveTime:'ç´„ 1.5 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'äºèŠ³æ²³æ’ç¯™èˆ¹'} },
                { day: 3, A: {text:'ğŸï¸ åŸºç£åŸâ†’åº«å…‹å±±', exertion:3, driveTime:'ç´„ 4 å°æ™‚', lodging:'éš±å£«é£¯åº—(é¢å±±æˆ¿)', highlight:'å¡”æ–¯æ›¼å†°æ²³èˆ¹'}, B: {text:'ğŸï¸ åŸºç£åŸâ†’åº«å…‹å±±', exertion:3, driveTime:'ç´„ 4 å°æ™‚', lodging:'éš±å£«é£¯åº—(é¢å±±æˆ¿)', highlight:'å¡”æ–¯æ›¼å†°æ²³èˆ¹'}, C: {text:'ğŸš‚ åŸºç£åŸâ†’é«˜å±±ç«è»Šâ†’æ ¼é›·èŒ…æ–¯', exertion:2, driveTime:'ç´„ 2.5 å°æ™‚', lodging:'æ ¼é›·èŒ…æ–¯', highlight:'é«˜å±±è§€æ™¯ç«è»Š'}, D: {text:'ğŸï¸ åŸºç£åŸâ†’è’‚å¡æ³¢æ¹–', exertion:2, driveTime:'ç´„ 3 å°æ™‚', lodging:'è’‚å¡æ³¢æ¹–å€', highlight:'ç´„ç¿°å±±å¤©æ–‡å°'}, E: {text:'ğŸï¸ åŸºç£åŸâ†’åº«å…‹å±±', exertion:3, driveTime:'ç´„ 4 å°æ™‚', lodging:'éš±å£«é£¯åº—(é¢å±±æˆ¿)', highlight:'å¡”æ–¯æ›¼å†°æ²³èˆ¹'} },
                { day: 4, A: {text:'ğŸï¸ åº«å…‹å±±â†’çš‡åé®', exertion:3, driveTime:'ç´„ 3.5 å°æ™‚', lodging:'çš‡åé®é€£æ³Š (1/3)', highlight:'å…¥ä½çš‡åé®'}, B: {text:'ğŸï¸ åº«å…‹å±±â†’çš‡åé®', exertion:3, driveTime:'ç´„ 3.5 å°æ™‚', lodging:'çš‡åé®é€£æ³Š (1/2)', highlight:'å…¥ä½çš‡åé®'}, C: {text:'ğŸï¸ æ ¼é›·èŒ…æ–¯â†’è¥¿æµ·å²¸å†°æ²³å€', exertion:4, driveTime:'ç´„ 3 å°æ™‚', lodging:'å†°æ²³å€é£¯åº—', highlight:'æ³•è˜­èŒ²ç´„ç‘Ÿå¤«å†°æ²³è°·å¥è¡Œ'}, D: {text:'ğŸš åº«å…‹å±±â†’ç›´å‡æ©Ÿâ†’ç“¦ç´å¡', exertion:3, driveTime:'ç´„ 2.5 å°æ™‚', lodging:'ç“¦ç´å¡æ¹–æ¿±', highlight:'ç›´å‡æ©Ÿé›ªåœ°é™è½'}, E: {text:'ğŸï¸ åº«å…‹å±±â†’çš‡åé®', exertion:3, driveTime:'ç´„ 3.5 å°æ™‚', lodging:'çš‡åé®å¸‚å€', highlight:'Skylineçºœè»Šæ™šé¤'} },
                { day: 5, A: {text:'ğŸš¶ çš‡åé®(å…¨æ—¥è‡ªç”±æ´»å‹•)', exertion:1, driveTime:'-', lodging:'çš‡åé®é€£æ³Š (2/3)', highlight:'å…¨æ—¥è‡ªç”±å½ˆæ€§å®‰æ’'}, B: {text:'ğŸï¸ çš‡åé®â†’ç®­é®', exertion:2, driveTime:'ç´„ 2 å°æ™‚', lodging:'çš‡åé®é€£æ³Š (2/2)', highlight:'TSSè’¸æ±½èˆ¹'}, C: {text:'ğŸï¸ å†°æ²³å€â†’ç“¦ç´å¡', exertion:3, driveTime:'ç´„ 4 å°æ™‚', lodging:'ç“¦ç´å¡æ¹–å€é€£æ³Š (1/2)', highlight:'è¿·å¹»ä¸–ç•Œ'}, D: {text:'ğŸš¢ ç“¦ç´å¡â†’éŠèˆ¹â†’çš‡åé®', exertion:2, driveTime:'ç´„ 1.5 å°æ™‚', lodging:'çš‡åé®é€£æ³Š (1/2)', highlight:'ç“¦ç´å¡æ¹–éŠèˆ¹'}, E: {text:'ğŸï¸ çš‡åé®â†’ç®­é®', exertion:2, driveTime:'ç´„ 2 å°æ™‚', lodging:'çš‡åé®å¸‚å€', highlight:'TSSè’¸æ±½èˆ¹'} },
                { day: 6, A: {text:'ğŸš¢ çš‡åé®â†’ç±³ä½›å³½ç£â†’ç¬¬é˜¿ç´', exertion:4, driveTime:'ç´„ 4 å°æ™‚', lodging:'ç¬¬é˜¿ç´æ¹–å€', highlight:'ç±³ä½›å³½ç£éŠèˆ¹'}, B: {text:'ğŸš¢ çš‡åé®â†’ç±³ä½›å³½ç£â†’ç¬¬é˜¿ç´', exertion:4, driveTime:'ç´„ 4 å°æ™‚', lodging:'ç¬¬é˜¿ç´æ¹–å€', highlight:'ç±³ä½›å³½ç£éŠèˆ¹'}, C: {text:'ğŸï¸ ç“¦ç´å¡â†’çš‡åé®', exertion:2, driveTime:'ç´„ 1.5 å°æ™‚', lodging:'çš‡åé®é€£æ³Š (1/2)', highlight:'Skylineçºœè»Šæ™šé¤'}, D: {text:'ğŸš² çš‡åé®â†’ç’°æ¹–è‡ªè¡Œè»Š', exertion:3, driveTime:'ç´„ 1 å°æ™‚', lodging:'çš‡åé®é€£æ³Š (2/2)', highlight:'ç’°æ¹–è‡ªè¡Œè»Š'}, E: {text:'ğŸš¢ çš‡åé®â†’ç±³ä½›å³½ç£â†’ç¬¬é˜¿ç´', exertion:4, driveTime:'ç´„ 4 å°æ™‚', lodging:'ç¬¬é˜¿ç´æ¹–å€', highlight:'ç±³ä½›å³½ç£éŠèˆ¹'} },
                { day: 7, A: {text:'ğŸï¸ ç¬¬é˜¿ç´â†’ç“¦ç´å¡', exertion:3, driveTime:'ç´„ 3 å°æ™‚', lodging:'ç“¦ç´å¡é€£æ³Š (1/2)', highlight:'è¢ç«èŸ²æ´'}, B: {text:'ğŸï¸ ç¬¬é˜¿ç´â†’ä½†å°¼ä¸', exertion:3, driveTime:'ç´„ 4 å°æ™‚', lodging:'ä½†å°¼ä¸å¸‚å€', highlight:'è¢ç«èŸ²æ´'}, C: {text:'ğŸš¶ çš‡åé®â†’æ ¼èŠè«¾åŸº', exertion:2, driveTime:'ç´„ 2 å°æ™‚', lodging:'çš‡åé®é€£æ³Š (2/2)', highlight:'åŠæ—¥è‡ªç”±æ´»å‹•'}, D: {text:'ğŸš¢ çš‡åé®â†’ç±³ä½›å³½ç£â†’ç¬¬é˜¿ç´', exertion:4, driveTime:'ç´„ 4 å°æ™‚', lodging:'ç¬¬é˜¿ç´æ¹–å€', highlight:'ç±³ä½›å³½ç£éŠèˆ¹'}, E: {text:'ğŸï¸ ç¬¬é˜¿ç´â†’ä½†å°¼ä¸', exertion:4, driveTime:'ç´„ 4 å°æ™‚', lodging:'ä½†å°¼ä¸å¸‚å€', highlight:'çš‡å®¶ä¿¡å¤©ç¿ä¿è­·å€'} },
                { day: 8, A: {text:'âœˆï¸ ç“¦ç´å¡â†’å¥§å…‹è˜­', exertion:2, driveTime:'ç´„ 1.5 å°æ™‚', lodging:'å¥§å…‹è˜­å¸‚å€', highlight:'ç“¦ç´å¡æ¹–ç•”æ‚ é–’æ™‚å…‰'}, B: {text:'ğŸï¸ ä½†å°¼ä¸â†’åŸºç£åŸ', exertion:3, driveTime:'ç´„ 4.5 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'æ‘©æ´›å¥‡é¾ç çŸ³'}, C: {text:'ğŸš¢ çš‡åé®â†’ç±³ä½›å³½ç£â†’ç¬¬é˜¿ç´', exertion:4, driveTime:'ç´„ 4 å°æ™‚', lodging:'ç¬¬é˜¿ç´æ¹–å€', highlight:'ç±³ä½›å³½ç£éŠèˆ¹'}, D: {text:'ğŸï¸ ç¬¬é˜¿ç´â†’ä½†å°¼ä¸', exertion:3, driveTime:'ç´„ 4 å°æ™‚', lodging:'ä½†å°¼ä¸å¸‚å€', highlight:'è¢ç«èŸ²æ´'}, E: {text:'ğŸï¸ ä½†å°¼ä¸â†’åŸºç£åŸ', exertion:3, driveTime:'ç´„ 4.5 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'æ‘©æ´›å¥‡é¾ç çŸ³'} },
                { day: 9, A: {text:'ğŸš¢ å¥§å…‹è˜­â†’å¸†èˆ¹éŠæ¸¯', exertion:2, driveTime:'-', lodging:'å¥§å…‹è˜­å¸‚å€', highlight:'å¥§å…‹è˜­å¸†èˆ¹é«”é©—'}, B: {text:'ğŸï¸ åŸºç£åŸâ†’é˜¿å¡ç¾…é˜¿', exertion:3, driveTime:'ç´„ 3 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'ç¾Šé§ç‰§å ´'}, C: {text:'ğŸï¸ ç¬¬é˜¿ç´â†’ä½†å°¼ä¸', exertion:4, driveTime:'ç´„ 4 å°æ™‚', lodging:'ä½†å°¼ä¸å¸‚å€', highlight:'çš‡å®¶ä¿¡å¤©ç¿ä¿è­·å€'}, D: {text:'ğŸï¸ ä½†å°¼ä¸â†’åŸºç£åŸ', exertion:3, driveTime:'ç´„ 4.5 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'æ‘©æ´›å¥‡é¾ç çŸ³'}, E: {text:'âœˆï¸ åŸºç£åŸâ†’å¥§å…‹è˜­', exertion:2, driveTime:'ç´„ 1.5 å°æ™‚', lodging:'å¥§å…‹è˜­å¸‚å€', highlight:'å¤©ç©ºå¡”æ™šé¤'} },
                { day: 10, A: {text:'âœˆï¸ å¥§å…‹è˜­â†’æ¡ƒåœ’', exertion:1, driveTime:'-', lodging:'æ©Ÿä¸Š', highlight:'è¿”å®¶'}, B: {text:'âœˆï¸ åŸºç£åŸâ†’å¥§å…‹è˜­â†’æ¡ƒåœ’', exertion:1, driveTime:'-', lodging:'æ©Ÿä¸Š', highlight:'è¿”å®¶'}, C: {text:'ğŸï¸ ä½†å°¼ä¸â†’åº«å…‹å±±', exertion:3, driveTime:'ç´„ 4 å°æ™‚', lodging:'éš±å£«é£¯åº—(é¢å±±æˆ¿)', highlight:'å¡”æ–¯æ›¼å†°æ²³èˆ¹'}, D: {text:'âœˆï¸ åŸºç£åŸâ†’å¥§å…‹è˜­â†’æ¡ƒåœ’', exertion:1, driveTime:'-', lodging:'æ©Ÿä¸Š', highlight:'è¿”å®¶'}, E: {text:'âœˆï¸ å¥§å…‹è˜­â†’æ¡ƒåœ’', exertion:1, driveTime:'-', lodging:'æ©Ÿä¸Š', highlight:'è¿”å®¶'} },
                { day: 11, A: {text:'ğŸ  æŠµé”æ¡ƒåœ’', exertion:1, driveTime:'-', lodging:'æº«æš–çš„å®¶', highlight:'æŠµé”å°ç£'}, B: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'}, C: {text:'ğŸï¸ åº«å…‹å±±â†’åŸºç£åŸ', exertion:3, driveTime:'ç´„ 4 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'è’‚å¡æ³¢æ¹–'}, D: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'}, E: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'} },
                { day: 12, A: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'}, B: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'}, C: {text:'ğŸï¸ åŸºç£åŸâ†’é˜¿å¡ç¾…é˜¿', exertion:3, driveTime:'ç´„ 3 å°æ™‚', lodging:'åŸºç£åŸå¸‚å€', highlight:'ç¾Šé§ç‰§å ´'}, D: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'}, E: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'} },
                { day: 13, A: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'}, B: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'}, C: {text:'âœˆï¸ åŸºç£åŸâ†’å¥§å…‹è˜­â†’æ¡ƒåœ’', exertion:1, driveTime:'-', lodging:'æ©Ÿä¸Š', highlight:'è¿”å®¶'}, D: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'}, E: {text:'-', exertion:0, driveTime:'-', lodging:'-', highlight:'-'} },
            ],
            checklist: [
                { category: 'åº«å…‹å±±', items: [
                    { name: 'åº«å…‹å±±åœ‹å®¶å…¬åœ’', A: true, B: true, C: true, D: true, E: true, lat: -43.731, lng: 170.096, desc: 'ç´è¥¿è˜­æœ€é«˜å³°æ‰€åœ¨åœ°ï¼Œæ“æœ‰å£¯éº—çš„å†°æ²³èˆ‡é«˜å±±æ™¯è‰²ã€‚' },
                    { name: 'éš±å£«é£¯åº—ä½å®¿', A: true, B: true, C: true, D: false, E: true, lat: -43.731, lng: 170.093, desc: 'ä½æ–¼åœ‹å®¶å…¬åœ’å…§ï¼Œäº«æœ‰çµ•ä½³åº«å…‹å±±æ™¯è§€çš„æ¨™èªŒæ€§é£¯åº—ã€‚' },
                    { name: 'å¡”æ–¯æ›¼å†°æ²³èˆ¹', A: true, B: true, C: true, D: true, E: true, lat: -43.682, lng: 170.160, desc: 'æ­èˆ¹è¿‘è·é›¢è§€è³ç´è¥¿è˜­æœ€å¤§å†°æ²³çš„å£¯éº—å†°å±±ã€‚' },
                    { name: 'åº«å…‹å±±æ­¥é“å¥è¡Œ', A: true, B: true, C: true, D: true, E: true, lat: -43.718, lng: 170.090, desc: 'è¦ªèº«é«”é©—åœ‹å®¶å…¬åœ’çš„å£¯éº—ï¼Œæ­¥é“é›£æ˜“åº¦é¸æ“‡å¤šã€‚' },
                    { name: 'ç›´å‡æ©Ÿè§€å…‰é£›è¡Œ', A: false, B: false, C: false, D: true, E: false, lat: -43.733, lng: 170.098, desc: 'å¾ç©ºä¸­ä¿¯ç°åº«å…‹å±±èˆ‡å†°æ²³ï¼Œæ˜¯ç¨ä¸€ç„¡äºŒçš„è¦–è¦ºé¥—å®´ã€‚' },
                ]},
                { category: 'æ¹–å€', items: [
                    { name: 'è’‚å¡æ³¢æ¹–/ç‰§ç¾Šäººæ•™å ‚', A: true, B: true, C: true, D: true, E: true, lat: -44.004, lng: 170.481, desc: 'ä»¥å¤¢å¹»èˆ¬çš„ç‰›å¥¶è—æ¹–æ°´å’Œæ¹–ç•”çš„å¤æ¨¸æ•™å ‚èåã€‚' },
                    { name: 'ç“¦ç´å¡æ¹–', A: true, B: true, C: true, D: true, E: true, lat: -44.700, lng: 169.133, desc: 'å—å³¶ç¬¬å››å¤§æ¹–ï¼Œæ™¯è‰²å„ªç¾ï¼Œæ˜¯æˆ¶å¤–æ´»å‹•çš„å¤©å ‚ã€‚' },
                    { name: 'ç“¦ç´å¡æ¹–ä¸­æ¨¹', A: true, B: true, C: true, D: true, E: false, lat: -44.700, lng: 169.122, desc: 'å­¤ç¨ä½‡ç«‹åœ¨æ¹–ä¸­çš„æŸ³æ¨¹ï¼Œæ˜¯ä¸–ç•ŒçŸ¥åçš„æ”å½±æ™¯é»ã€‚' },
                    { name: 'ç“¦ç´å¡æ¹–éŠèˆ¹', A: false, B: false, C: false, D: true, E: false, lat: -44.695, lng: 169.145, desc: 'ä¹˜èˆ¹æ¢ç´¢æ¹–ä¸­å°å³¶ï¼Œäº«å—æ¹–å…‰å±±è‰²ã€‚' },
                ]},
                { category: 'çš‡åé®', items: [
                    { name: 'çš‡åé®é€£æ³Š', A: true, B: true, C: true, D: true, E: false, lat: -45.031, lng: 168.662, desc: 'å¤šæ¬¡å…¥ä½åŒä¸€é£¯åº—ï¼Œæ¸›å°‘æ‰“åŒ…è¡Œæçš„è¾›å‹ã€‚' },
                    { name: 'çš‡åé®è‡ªç”±æ´»å‹•', A: true, B: false, C: true, D: false, E: false, lat: -45.031, lng: 168.662, desc: 'è‡ªç”±æ¢ç´¢å°é®ï¼Œäº«å—æ‚ é–’æ™‚å…‰æˆ–åƒåŠ è‡ªè²»æ´»å‹•ã€‚' },
                    { name: 'Skylineå¤©ç©ºçºœè»Š+æ™šé¤', A: true, B: true, C: true, D: true, E: true, lat: -45.027, lng: 168.656, desc: 'æ­ä¹˜å—åŠçƒæœ€é™¡çºœè»Šï¼Œåœ¨é«˜ç©ºæ™¯è§€é¤å»³äº«ç”¨è‡ªåŠ©é¤ã€‚' },
                    { name: 'TSSç™¾å¹´è’¸æ±½èˆ¹', A: true, B: true, C: true, D: true, E: true, lat: -45.033, lng: 168.659, desc: 'æ­ä¹˜å¤è‘£ç‡ƒç…¤è’¸æ±½èˆ¹ï¼Œæš¢éŠç“¦å¡è’‚æ³¢æ¹–ã€‚' },
                    { name: 'ç®­é® (é­”æˆ’å°é®)', A: true, B: true, C: true, D: true, E: true, lat: -44.945, lng: 168.831, desc: 'ä¿ç•™æ·˜é‡‘æ™‚æœŸé¢¨è²Œçš„æ­·å²å°é®ï¼Œä¹Ÿæ˜¯é­”æˆ’é›»å½±å ´æ™¯ã€‚' },
                    { name: 'ç’°æ¹–è‡ªè¡Œè»Š', A: false, B: false, C: false, D: true, E: false, lat: -45.031, lng: 168.662, desc: 'ä»¥æ‚ é–’çš„æ–¹å¼æ¬£è³ç“¦å¡è’‚æ³¢æ¹–ç•”çš„çµ•ç¾é¢¨å…‰ã€‚' },
                ]},
                { category: 'å³½ç£', items: [
                    { name: 'ç±³ä½›å³½ç£éŠèˆ¹', A: true, B: true, C: true, D: true, E: true, lat: -44.671, lng: 167.925, desc: 'ä¸–ç•Œç¬¬å…«å¤§å¥‡æ™¯ï¼Œæ­èˆ¹å·¡èˆªæ–¼å£¯éº—çš„å†°æ²³å³½ç£ä¸­ã€‚' },
                    { name: 'ç¬¬é˜¿ç´è¢ç«èŸ²æ´', A: true, B: true, C: true, D: true, E: true, lat: -45.414, lng: 167.716, desc: 'æ­èˆ¹é€²å…¥åœ°ä¸‹æ´ç©´ï¼Œè§€è³å—åŠçƒç‰¹æœ‰çš„è—å…‰è¢ç«èŸ²ã€‚' },
                ]},
                { category: 'æ±æµ·å²¸', items: [
                    { name: 'ä½†å°¼ä¸å¸‚å€è§€å…‰', A: false, B: true, C: true, D: true, E: true, lat: -45.874, lng: 170.503, desc: 'å……æ»¿è˜‡æ ¼è˜­é¢¨æƒ…çš„åŸå¸‚ï¼Œæ“æœ‰è¨±å¤šæ­·å²å»ºç¯‰ã€‚' },
                    { name: 'çš‡å®¶ä¿¡å¤©ç¿ä¿è­·å€', A: false, B: false, C: true, D: false, E: true, lat: -45.775, lng: 170.728, desc: 'å…¨çƒå”¯ä¸€çš„å…§é™¸çš‡å®¶ä¿¡å¤©ç¿ç¹æ®–åœ°ã€‚' },
                    { name: 'æ‘©æ´›å¥‡é¾ç çŸ³', A: false, B: true, C: true, D: true, E: true, lat: -45.345, lng: 170.826, desc: 'æµ·ç˜ä¸Šæ•£è½è‘—å·¨å¤§çš„åœ“å½¢å¥‡çŸ³ï¼Œæ˜¯åœ°è³ªå¥‡è§€ã€‚' },
                    { name: 'å¥§ç‘ªé­¯ (ç™½ç ‚å²©ä¹‹åŸ)', A: false, B: true, C: true, D: true, E: true, lat: -45.097, lng: 170.971, desc: 'ä»¥ç™½è‰²çŸ³ç°å²©å»ºç¯‰èåï¼Œä¸¦å¯è§€è³è—ä¼éµæ­¸å·¢ã€‚' },
                    { name: 'é˜¿å¡ç¾…é˜¿ (æ³•åœ‹å°é®)', A: false, B: true, C: true, D: false, E: false, lat: -43.803, lng: 172.968, desc: 'ç´è¥¿è˜­å”¯ä¸€çš„æ³•åœ‹ç§»æ°‘å°é®ï¼Œå……æ»¿æ­æ´²é¢¨æƒ…ã€‚' },
                    { name: 'ç¾Šé§ç‰§å ´', A: false, B: true, C: true, D: false, E: false, lat: -43.780, lng: 172.905, desc: 'èˆ‡å¯æ„›çš„ç¾Šé§è¿‘è·é›¢æ¥è§¸å’Œé¤µé£Ÿã€‚' },
                ]},
                { category: 'è¥¿æµ·å²¸', items: [
                    { name: 'é«˜å±±è§€æ™¯ç«è»Š', A: false, B: false, C: true, D: false, E: false, lat: -42.943, lng: 171.562, desc: 'ç©¿è¶Šäºç‘Ÿéš˜å£åœ‹å®¶å…¬åœ’ï¼Œä¸–ç•Œç´šçš„æ™¯è§€ç«è»Šè·¯ç·šã€‚' },
                    { name: 'æ³•è˜­èŒ²ç´„ç‘Ÿå¤«å†°æ²³', A: false, B: false, C: true, D: false, E: false, lat: -43.468, lng: 170.187, desc: 'ä¸–ç•Œä¸Šæœ€å®¹æ˜“åˆ°é”çš„å†°æ²³ä¹‹ä¸€ï¼Œå¯é€²è¡Œè°·åœ°å¥è¡Œã€‚' },
                    { name: 'åƒå±¤å²©', A: false, B: false, C: true, D: false, E: false, lat: -42.115, lng: 171.327, desc: 'è¥¿æµ·å²¸çš„çŸ³ç°å²©å¥‡æ™¯ï¼Œå²©çŸ³å±¤å±¤å †ç–Šå¦‚é¬†é¤…ã€‚' },
                    { name: 'è¥¿æµ·å²¸æ¨¹å† æ­¥é“', A: false, B: false, C: true, D: false, E: false, lat: -42.973, lng: 170.812, desc: 'è¡Œèµ°æ–¼æº«å¸¶é›¨æ—çš„æ¨¹å† ä¹‹ä¸Šï¼Œäº«å—ç¨ç‰¹è¦–è§’ã€‚' },
                ]}
            ]
        };

        let radarChart, map;
        let currentSelection = 'all';
        let layerGroups = {};

        document.addEventListener('DOMContentLoaded', () => {
            setupControls();
            setupTabs();
            updateDisplay();
        });
        
        function initMap() {
            if (map) return;
            map = L.map('map').setView([-43.5, 170.5], 6);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
        }

        function setupControls() {
            const buttons = document.querySelectorAll('.itinerary-btn');
            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    buttons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    currentSelection = button.dataset.itinerary;
                    updateDisplay();
                });
            });
        }

        function setupTabs() {
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('#tab-content > div');
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    tabContents.forEach(content => content.classList.add('hidden'));
                    const activeContent = document.getElementById(`${button.dataset.tab}-content`);
                    if (activeContent) {
                        activeContent.classList.remove('hidden');
                    }
                    if (button.dataset.tab === 'map') {
                        initMap();
                        setTimeout(() => map.invalidateSize(), 10);
                    }
                    updateDisplay();
                });
            });
        }

        function updateDisplay() {
            const activeTab = document.querySelector('.tab-btn.active').dataset.tab;
            if (activeTab === 'overview') {
                renderSummary();
                renderRadarChart();
            } else if (activeTab === 'map') {
                renderMapControls();
                drawMapElements();
            } else if (activeTab === 'daily') {
                renderDailyItinerary();
            } else if (activeTab === 'checklist') {
                renderChecklist();
            }
        }
        
        function renderSummary() {
            const container = document.getElementById('summary-section');
            let html = '<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">';
            const selections = currentSelection === 'all' ? Object.keys(data.tours) : [currentSelection];

            selections.forEach(key => {
                const tour = data.tours[key];
                html += `
                    <div class="summary-card bg-white border border-gray-200 rounded-lg shadow-sm p-6 flex flex-col">
                        <h3 class="text-xl font-bold text-blue-800">${tour.name}</h3>
                        <p class="text-2xl font-bold my-2" style="color: ${tour.color};">${tour.price}</p>
                        <p class="text-gray-600 font-medium">${tour.duration} | <span class="font-bold text-blue-700">${tour.core}</span></p>
                        <ul class="mt-4 space-y-2 text-gray-700 list-disc list-inside flex-grow">
                            ${tour.highlights.map(h => `<li>${h}</li>`).join('')}
                        </ul>
                        <div class="mt-4 bg-green-50 p-3 rounded-md border-l-4 border-green-500">
                            <p class="font-semibold text-green-800">å„ªå‹¢ï¼š${tour.pros}</p>
                        </div>
                        <div class="mt-2 bg-amber-50 p-3 rounded-md border-l-4 border-amber-500">
                            <p class="font-semibold text-amber-800">è€ƒé‡é»ï¼š${tour.cons}</p>
                        </div>
                    </div>
                `;
            });
            html += '</div>';
            container.innerHTML = html;
        }
        
        function renderRadarChart() {
            const ctx = document.getElementById('radarChart').getContext('2d');
            const labels = ['æ‚ é–’åº¦', 'æ™¯è§€è±å¯Œåº¦', 'æ´»å‹•ç¨ç‰¹æ€§', 'é«”åŠ›è¦æ±‚', 'æ€§åƒ¹æ¯”'];
            const selections = currentSelection === 'all' ? Object.keys(data.tours) : [currentSelection];

            const datasets = selections.map((key) => {
                const tour = data.tours[key];
                return {
                    label: `è¡Œç¨‹ ${key}`, data: tour.scores,
                    backgroundColor: tour.color + '66', borderColor: tour.color,
                    borderWidth: 2, pointBackgroundColor: tour.color, pointRadius: 4
                };
            });

            if (radarChart) radarChart.destroy();
            radarChart = new Chart(ctx, {
                type: 'radar', data: { labels: labels, datasets: datasets },
                options: {
                    maintainAspectRatio: false,
                    scales: { r: {
                        angleLines: { color: 'rgba(0, 0, 0, 0.1)' }, grid: { color: 'rgba(0, 0, 0, 0.1)' },
                        pointLabels: { font: { size: 14, family: "'Noto Sans TC', sans-serif" }, color: '#333' },
                        ticks: { beginAtZero: true, max: 5, stepSize: 1, backdropColor: 'rgba(255, 255, 255, 0.75)', font: { weight: 'bold' } }
                    }},
                    plugins: { legend: { position: 'top', labels: { font: { size: 14, family: "'Noto Sans TC', sans-serif" }}}}
                }
            });
        }
        
        function renderMapControls() {
            const container = document.getElementById('map-controls');
            const selections = currentSelection === 'all' ? Object.keys(data.tours) : [currentSelection];
            let html = selections.map(key => `
                <label class="inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="map-toggle-checkbox" data-itinerary="${key}" checked>
                    <span class="ml-2" style="color: ${data.tours[key].color}; text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;">â– </span>
                    <span class="ml-1 font-semibold">${data.tours[key].name.split('-')[0]}</span>
                </label>
            `).join('');
            container.innerHTML = html;

            document.querySelectorAll('.map-toggle-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', drawMapElements);
            });
        }

        function drawMapElements() {
            Object.values(layerGroups).forEach(group => map.removeLayer(group));
            layerGroups = {};
            
            const allPois = {};
            data.checklist.forEach(cat => cat.items.forEach(item => {
                allPois[item.name] = item;
            }));

            const visibleItineraries = Array.from(document.querySelectorAll('.map-toggle-checkbox:checked')).map(cb => cb.dataset.itinerary);
            
            visibleItineraries.forEach(key => {
                const tour = data.tours[key];
                const tourLayerGroup = L.layerGroup();
                const routePoints = [];

                data.checklist.forEach(category => {
                    category.items.forEach(item => {
                        if (item[key]) {
                            const poi = allPois[item.name];
                            if (poi && poi.lat && poi.lng) {
                                const marker = L.marker([poi.lat, poi.lng], {
                                    icon: L.divIcon({
                                        className: 'custom-div-icon',
                                        html: `<div style="background-color:${tour.color};" class="w-3 h-3 rounded-full border-2 border-white shadow-md"></div>`,
                                        iconSize: [12, 12],
                                        iconAnchor: [6, 6]
                                    })
                                });
                                marker.bindTooltip(poi.name, { permanent: true, direction: 'top', offset: [0, -10], className: 'leaflet-tooltip-permanent' });
                                marker.bindPopup(`<b>${poi.name}</b><br>${poi.desc}`);
                                marker.addTo(tourLayerGroup);
                                routePoints.push([poi.lat, poi.lng]);
                            }
                        }
                    });
                });
                
                if (routePoints.length > 1) {
                    const polyline = L.polyline(routePoints, { color: tour.color, weight: 3, opacity: 0.7 });
                    polyline.addTo(tourLayerGroup);
                }
                
                layerGroups[key] = tourLayerGroup;
                tourLayerGroup.addTo(map);
            });
        }

        function renderDailyItinerary() {
            const container = document.getElementById('daily-content');
            const selections = currentSelection === 'all' ? Object.keys(data.tours) : [currentSelection];
            let headerHtml = selections.map(key => `<th class="p-2 md:p-4 text-left text-sm md:text-base font-semibold text-white sticky top-0" style="background-color: ${data.tours[key].color};">${data.tours[key].name.split('-')[0].trim()}</th>`).join('');
            
            let bodyHtml = data.daily.map(day => {
                if (selections.every(key => day[key].text === '-')) return '';
                let rowHtml = selections.map(key => {
                    const dayData = day[key];
                    if (dayData.text === '-') return `<td class="p-2 md:p-4 border-t border-gray-200 align-top">-</td>`;
                    
                    const stars = 'â˜€ï¸'.repeat(dayData.exertion) + '<span class="text-gray-300">' + 'â˜€ï¸'.repeat(5 - dayData.exertion) + '</span>';
                    
                    return `
                        <td class="p-2 md:p-4 border-t border-gray-200 align-top">
                            <p class="font-semibold">${dayData.text}</p>
                            <div class="mt-2 pt-2 border-t border-gray-100 space-y-1 text-gray-600">
                                <div class="comfort-metric"><span>â­</span><strong>ç•¶æ—¥ç²¾è¯:</strong> ${dayData.highlight}</div>
                                <div class="comfort-metric"><span>â˜€ï¸</span><strong>é«”åŠ›æŒ‡æ•¸:</strong> ${stars}</div>
                                <div class="comfort-metric"><span>ğŸšŒ</span><strong>æ‹‰è»Šæ™‚é–“:</strong> ${dayData.driveTime}</div>
                                <div class="comfort-metric"><span>ğŸ›Œ</span><strong>ä½å®¿äº®é»:</strong> ${dayData.lodging}</div>
                            </div>
                        </td>
                    `;
                }).join('');
                return `
                    <tr class="hover:bg-gray-50">
                        <td class="p-2 md:p-4 border-t border-gray-200 font-bold text-blue-800 text-center sticky left-0 bg-gray-100 align-top">ç¬¬ ${day.day} å¤©</td>
                        ${rowHtml}
                    </tr>
                `;
            }).join('');

            container.innerHTML = `
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border-collapse">
                        <thead>
                            <tr>
                                <th class="p-2 md:p-4 text-center text-sm md:text-base font-semibold text-white sticky top-0 left-0 bg-blue-900 z-10">å¤©æ•¸</th>
                                ${headerHtml}
                            </tr>
                        </thead>
                        <tbody>${bodyHtml}</tbody>
                    </table>
                </div>
            `;
        }

        function renderChecklist() {
            const container = document.getElementById('checklist-content');
            const selections = currentSelection === 'all' ? Object.keys(data.tours) : [currentSelection];
            let headerHtml = selections.map(key => `<th class="p-3 text-center font-semibold text-gray-600">è¡Œç¨‹ ${key}</th>`).join('');
            
            let bodyHtml = data.checklist.map(category => `
                <tr class="bg-blue-50">
                    <td colspan="${selections.length + 1}" class="p-3 font-bold text-blue-800">${category.category}</td>
                </tr>
                ${category.items.map(item => `
                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                        <td class="p-3 font-medium text-gray-800">${item.name}</td>
                        ${selections.map(key => `<td class="p-3 text-center table-cell-checked">${item[key] ? 'âœ”ï¸' : 'â€”'}</td>`).join('')}
                    </tr>
                `).join('')}
            `).join('');

            container.innerHTML = `
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white">
                        <thead class="bg-gray-50 sticky top-0">
                            <tr>
                                <th class="p-3 text-left font-semibold text-gray-600 w-2/5">æ™¯é»/æ´»å‹•åç¨±</th>
                                ${headerHtml}
                            </tr>
                        </thead>
                        <tbody>${bodyHtml}</tbody>
                    </table>
                </div>
            `;
        }
    </script>
</body>
</html>
