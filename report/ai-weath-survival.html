<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026-2030 AI 時代財富生存指南</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Warm Professional - Cream background (#fdfbf7), Navy Text (#1e293b), Gold Accents (#d97706), Teal for Tech (#0d9488) -->
    <!-- Application Structure Plan:
        1. Hero Section: Hook the user with the core "Wealth Transfer" message and the K-shape concept.
        2. Worldview Dashboard: Interactive timeline comparing 2026 (Risk) vs 2030 (Harvest), visualizing the divergent futures.
        3. The Asset Fortress: A tier-based interactive explorer for the 3+1 asset layers (Tax Collectors, New Labor, New Currency, Arms Dealer).
        4. Tech Bottleneck Deep Dive: Data viz focusing on the Power/Transformer shortage and the Charging War comparison.
        5. The Action Console: Tools for the user - "Ants Moving Elephant" calculator and Dividend Myth Buster.
        6. Risk Radar: Geopolitics and Tech Winter hedge strategies.
    -->
    <!-- Visualization & Content Choices:
        - K-Shape Chart: Chart.js Line chart to visualize the widening gap between 'Owners' and 'Pets'.
        - Asset Tiers: Interactive HTML Grid cards. Clicking a tier reveals specific stocks and logic. avoiding SVG complexity.
        - Power Shortage: Chart.js Bar chart showing the lead time gap for transformers.
        - Charging War: Comparison cards (HTML/CSS) for Tesla vs Delta vs Phihong.
        - Confirmation: NO SVG graphics used. NO Mermaid JS used.
    -->
    <style>
        body {
            background-color: #fdfbf7;
            color: #1e293b;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        }
        .section-card {
            background-color: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        .interactive-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border-color: #cbd5e1;
            cursor: pointer;
        }
        .active-tier {
            border-color: #d97706;
            background-color: #fffbeb;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .nav-item.active {
            border-bottom: 2px solid #d97706;
            color: #d97706;
            font-weight: 600;
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/90 backdrop-blur border-b border-gray-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-xl font-bold text-slate-800">AI Wealth <span class="text-amber-600">Survival</span></span>
                </div>
                <div class="hidden md:flex space-x-8 items-center" id="nav-links">
                    <button onclick="scrollToSection('worldview')" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium transition-colors">世界觀與邏輯</button>
                    <button onclick="scrollToSection('assets')" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium transition-colors">資產地圖</button>
                    <button onclick="scrollToSection('tech')" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium transition-colors">技術深挖</button>
                    <button onclick="scrollToSection('action')" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium transition-colors">實戰手冊</button>
                </div>
                <!-- Mobile menu button placeholder -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-gray-500 hover:text-gray-700 focus:outline-none">
                        <span class="text-2xl">☰</span>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 p-4 space-y-2 shadow-lg absolute w-full">
            <button onclick="scrollToSection('worldview')" class="block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 rounded">世界觀與邏輯</button>
            <button onclick="scrollToSection('assets')" class="block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 rounded">資產地圖</button>
            <button onclick="scrollToSection('tech')" class="block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 rounded">技術深挖</button>
            <button onclick="scrollToSection('action')" class="block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 rounded">實戰手冊</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-16">

        <!-- Hero Section -->
        <section class="text-center py-10 sm:py-20 relative overflow-hidden rounded-3xl bg-slate-900 text-white shadow-2xl">
            <div class="absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
            <div class="relative z-10 px-4">
                <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight mb-4">
                    <span class="block text-amber-400">2026 - 2030</span>
                    <span class="block">AI 時代財富生存指南</span>
                </h1>
                <p class="mt-4 max-w-2xl mx-auto text-xl text-slate-300">
                    人類歷史上最大的財富轉移窗口。你是要成為掌握生產資料的<span class="text-white font-bold border-b-2 border-amber-500">飼主 (Owners)</span>，還是依賴 UHI 的<span class="text-slate-400 font-bold border-b-2 border-slate-500">寵物 (Pets)</span>？
                </p>
                <div class="mt-10 flex justify-center gap-4">
                    <button onclick="scrollToSection('worldview')" class="px-8 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-full font-semibold transition-all shadow-lg hover:shadow-amber-500/30">
                        開始探索
                    </button>
                </div>
            </div>
        </section>

        <!-- 1. Worldview Section -->
        <section id="worldview" class="space-y-8">
            <div class="border-l-4 border-amber-600 pl-4">
                <h2 class="text-3xl font-bold text-slate-900">世界觀：K 型社會的終局</h2>
                <p class="mt-2 text-lg text-slate-600">
                    技術正在以「指數級」進步，而社會適應只能維持「線性」速度。這將導致社會階級的劇烈剝離。
                    我們正處於一個關鍵的分岔路口。
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div class="section-card p-6 bg-white">
                    <h3 class="text-xl font-bold mb-4 text-center">財富分岔路徑推演 (2024-2030)</h3>
                    <div class="chart-container">
                        <canvas id="kShapeChart"></canvas>
                    </div>
                    <p class="text-sm text-slate-500 mt-4 text-center italic">
                        *圖表為概念示意，展示持有AI資產與單純依賴勞動力/現金的財富差距。
                    </p>
                </div>

                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-slate-800">時間軸策略切換</h3>
                            <div class="flex bg-slate-100 rounded-lg p-1">
                                <button onclick="updateTimeView('2026')" id="btn-2026" class="px-4 py-1 rounded-md text-sm font-medium bg-white shadow text-slate-800 transition-all">2026 (風險)</button>
                                <button onclick="updateTimeView('2030')" id="btn-2030" class="px-4 py-1 rounded-md text-sm font-medium text-slate-500 hover:text-slate-800 transition-all">2030 (收割)</button>
                            </div>
                        </div>
                        <div id="time-content" class="text-slate-600 leading-relaxed min-h-[120px]">
                            <!-- Content injected via JS -->
                        </div>
                    </div>

                    <div class="bg-amber-50 p-6 rounded-xl border border-amber-100">
                        <h4 class="font-bold text-amber-900 mb-2">生存法則</h4>
                        <ul class="space-y-2 text-amber-800">
                            <li class="flex items-start">
                                <span class="mr-2 text-xl">🛡️</span>
                                <span><strong>現金無用：</strong> 未來政府將發放 UHI (封口費)，導致法幣購買力被稀釋。</span>
                            </li>
                            <li class="flex items-start">
                                <span class="mr-2 text-xl">🏭</span>
                                <span><strong>持有生產資料：</strong> 唯有成為「發錢的股東」（AI/算力/能源持有者），才能對抗通膨。</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. Asset Map Section -->
        <section id="assets" class="space-y-8">
            <div class="border-l-4 border-teal-600 pl-4">
                <h2 class="text-3xl font-bold text-slate-900">資產地圖：三層護城河</h2>
                <p class="mt-2 text-lg text-slate-600">
                    在舊經濟崩潰與新秩序建立之間，你需要建立高純度的 AI 資產組合。
                    點擊下方卡片查看每一層的投資邏輯與代表標的。
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4" id="asset-grid">
                <!-- Cards generated by JS -->
            </div>

            <div id="asset-detail-panel" class="section-card p-8 bg-slate-50 border-t-4 border-teal-500 hidden transition-all">
                <div class="flex flex-col md:flex-row gap-8">
                    <div class="md:w-1/3">
                        <div class="text-6xl mb-4" id="detail-icon"></div>
                        <h3 class="text-2xl font-bold text-slate-900 mb-2" id="detail-title"></h3>
                        <div class="inline-block px-3 py-1 rounded-full bg-teal-100 text-teal-800 text-sm font-semibold mb-4" id="detail-role"></div>
                    </div>
                    <div class="md:w-2/3 space-y-4">
                        <div>
                            <h4 class="font-bold text-slate-700 uppercase text-xs tracking-wider">投資邏輯</h4>
                            <p class="text-slate-600 text-lg" id="detail-logic"></p>
                        </div>
                        <div>
                            <h4 class="font-bold text-slate-700 uppercase text-xs tracking-wider">代表公司</h4>
                            <div class="flex flex-wrap gap-2 mt-2" id="detail-companies"></div>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-slate-200 mt-4">
                            <h4 class="font-bold text-red-600 text-sm mb-1">⚠️ 潛在風險</h4>
                            <p class="text-slate-500 text-sm" id="detail-risk"></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Tech Deep Dive -->
        <section id="tech" class="space-y-12">
            <div class="border-l-4 border-indigo-600 pl-4">
                <h2 class="text-3xl font-bold text-slate-900">技術深挖：瓶頸與戰爭</h2>
                <p class="mt-2 text-lg text-slate-600">
                    魔鬼藏在細節裡。2026 年的最大風險來自物理世界的限制：電力基礎設施與充電網絡的爭奪。
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
                <!-- Power Bottleneck -->
                <div class="section-card p-6">
                    <h3 class="text-xl font-bold text-slate-800 mb-2">變壓器缺口 (The Transformer Shortage)</h3>
                    <p class="text-slate-500 text-sm mb-6">為什麼你有 H100 晶片也跑不動？因為基礎設施跟不上。</p>
                    
                    <div class="chart-container">
                        <canvas id="transformerChart"></canvas>
                    </div>
                    
                    <div class="mt-6 bg-indigo-50 p-4 rounded-lg text-sm text-indigo-900">
                        <strong>關鍵洞察：</strong> 缺的不是電腦電源，是<strong>AC-to-AC 電網級降壓變壓器</strong>。擴產週期長達 2-3 年。這使得<strong>重電股 (Eaton, 華城)</strong> 成為戰略資源。
                    </div>
                </div>

                <!-- Charging War -->
                <div class="space-y-6">
                    <h3 class="text-xl font-bold text-slate-800">充電基礎設施戰爭</h3>
                    <p class="text-slate-600">誰能掌控能源入口？這是一場商業模式的博弈。</p>
                    
                    <div class="space-y-4">
                        <!-- Tesla Card -->
                        <div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm hover:border-red-500 transition-colors">
                            <div class="flex justify-between items-center mb-2">
                                <h4 class="font-bold text-lg text-slate-900">Tesla (Apple 模式)</h4>
                                <span class="px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-bold">C端霸主</span>
                            </div>
                            <p class="text-sm text-slate-600 mb-2">垂直整合，追求極致成本與隨插即充體驗。</p>
                            <div class="w-full bg-slate-200 rounded-full h-2 mb-1">
                                <div class="bg-red-500 h-2 rounded-full" style="width: 95%"></div>
                            </div>
                            <div class="flex justify-between text-xs text-slate-400">
                                <span>體驗/整合度</span>
                                <span>極高</span>
                            </div>
                        </div>

                        <!-- Delta Card -->
                        <div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm hover:border-blue-500 transition-colors">
                            <div class="flex justify-between items-center mb-2">
                                <h4 class="font-bold text-lg text-slate-900">台達電 (Android/軍火商)</h4>
                                <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-bold">B端強者</span>
                            </div>
                            <p class="text-sm text-slate-600 mb-2">技術精品 (SiC, PCS)，服務所有「反 Tesla 聯盟」。</p>
                            <div class="w-full bg-slate-200 rounded-full h-2 mb-1">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 90%"></div>
                            </div>
                            <div class="flex justify-between text-xs text-slate-400">
                                <span>技術/效率</span>
                                <span>頂尖</span>
                            </div>
                        </div>

                        <!-- Others Card -->
                        <div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm hover:border-gray-400 transition-colors">
                            <div class="flex justify-between items-center mb-2">
                                <h4 class="font-bold text-lg text-slate-900">飛宏/馳諾瓦 (貿易商)</h4>
                                <span class="px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full font-bold">彈性快手</span>
                            </div>
                            <p class="text-sm text-slate-600 mb-2">反應快、價格低，但技術護城河與地緣風險需警惕。</p>
                            <div class="w-full bg-slate-200 rounded-full h-2 mb-1">
                                <div class="bg-gray-500 h-2 rounded-full" style="width: 70%"></div>
                            </div>
                            <div class="flex justify-between text-xs text-slate-400">
                                <span>護城河</span>
                                <span>中等</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Action Plan -->
        <section id="action" class="space-y-12 mb-20">
            <div class="border-l-4 border-green-600 pl-4">
                <h2 class="text-3xl font-bold text-slate-900">小資族實戰手冊</h2>
                <p class="mt-2 text-lg text-slate-600">
                    不必本金雄厚，重點是「在車上」。利用時間槓桿與正確的心態，螞蟻也能搬動大象。
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Calculator -->
                <div class="section-card p-8 bg-white">
                    <h3 class="text-xl font-bold text-slate-800 mb-6 flex items-center">
                        <span class="mr-2">🐜</span> 螞蟻搬象模擬器
                    </h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700">每月投入金額 (NTD)</label>
                            <input type="number" id="monthly-inv" value="5000" class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-700">投資標的類型</label>
                            <select id="asset-type" class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-md shadow-sm focus:ring-amber-500 focus:border-amber-500">
                                <option value="ai">AI 核心龍頭 (預估年化 25%)</option>
                                <option value="market">大盤 ETF (預估年化 8%)</option>
                                <option value="cash">定存/現金 (預估年化 1.5%)</option>
                            </select>
                        </div>
                        <div class="pt-4">
                            <button onclick="calculateWealth()" class="w-full bg-amber-600 text-white py-2 px-4 rounded-md hover:bg-amber-700 transition-colors font-bold">計算 2030 年資產</button>
                        </div>
                        
                        <div id="calc-result" class="mt-6 p-4 bg-slate-50 rounded-lg hidden border border-slate-200">
                            <p class="text-slate-600 text-sm">到 2030 年，您的資產預估為：</p>
                            <p class="text-3xl font-bold text-amber-600 mt-2" id="result-value">NT$ 0</p>
                            <p class="text-xs text-slate-400 mt-2">*此為複利試算，非投資保證。重點在於持續參與。</p>
                        </div>
                    </div>
                </div>

                <!-- Dividend Myth -->
                <div class="section-card p-8 bg-green-50 border border-green-100">
                    <h3 class="text-xl font-bold text-green-900 mb-4 flex items-center">
                        <span class="mr-2">🚫</span> 破解股息迷思
                    </h3>
                    <div class="space-y-4 text-green-800">
                        <p class="leading-relaxed">
                            <strong>高股息是成長的敵人。</strong> 對於指數爆發期的公司 (Tesla/NV)，發股息等於承認「我不知道怎麼用這筆錢賺更多」。
                        </p>
                        <div class="bg-white p-4 rounded-lg border border-green-200 shadow-sm">
                            <h4 class="font-bold text-green-900 mb-2">💡 自製股息 (Homemade Dividends)</h4>
                            <p class="text-sm text-slate-600 mb-2">與其被強制除息扣稅，不如在需要錢時，賣出 3-4% 的股票。</p>
                            <ul class="list-disc list-inside text-sm text-slate-600 space-y-1">
                                <li><strong>稅務優勢：</strong> 控制賣出時機。</li>
                                <li><strong>複利優勢：</strong> 錢留在公司利滾利。</li>
                                <li><strong>總報酬優先：</strong> Growth > Yield。</li>
                            </ul>
                        </div>
                        <p class="text-sm font-bold mt-2">結論：忘掉殖利率，專注於 ROIC 與成長。</p>
                    </div>
                </div>
            </div>

            <!-- Hedge Section -->
            <div class="bg-slate-800 text-slate-300 p-6 rounded-xl mt-8">
                <h3 class="text-xl font-bold text-white mb-4">🛡️ 風險對沖 (The Hedge)</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h4 class="font-bold text-amber-400 mb-2">地緣政治 (The Taiwan Risk)</h4>
                        <p class="text-sm">台積電處於地緣震央。建議不全倉 TSMC，配置美股巨頭 (NVDA/Tesla) 與 Bitcoin/黃金作為極端情況下的避風港。</p>
                    </div>
                    <div>
                        <h4 class="font-bold text-teal-400 mb-2">技術停滯 (The AI Winter)</h4>
                        <p class="text-sm">若 AI 進步停滯，Google/Microsoft 依然壟斷生產力軟體與搜尋，現金流穩健，具備防禦屬性。</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-white border-t border-gray-200 py-8 text-center text-slate-500 text-sm">
        <p>© 2026-2030 AI Wealth Survival Guide. Generated based on strategic analysis.</p>
        <p class="mt-2">Disclaimer: This is an educational simulation, not financial advice. Do your own research.</p>
    </footer>

    <script>
        // --- State & Data ---
        const timeData = {
            '2026': {
                text: "<strong>風險年 (Risk Year)：</strong><br>我們將面臨算力瓶頸的極限。缺電、變壓器短缺將限制 AI 的擴張速度。同時，AI 取代白領工作的效應開始顯現，社會可能出現動盪與階級撕裂。這是最考驗信仰的一年。<br><br><strong>策略：</strong> 坐穩扶好，無視波動，持續買入生產資料。",
                btnClass: "bg-slate-200 text-slate-800"
            },
            '2030': {
                text: "<strong>收割年 (Harvest Year)：</strong><br>技術成熟落地。Robotaxi 普及，Optimus 機器人量產，長壽醫療突破。這是長期持有者的豐收時刻。UHI (全民高收入) 制度可能已建立，你將以「資產階級」身份著陸。<br><br><strong>策略：</strong> 持有現股（門票），享受複利。時間是散戶最大的槓桿。",
                btnClass: "bg-amber-100 text-amber-900"
            }
        };

        const assetData = [
            {
                id: 'tax',
                icon: '🏔️',
                title: '收稅人',
                role: 'The Tax Collector',
                logic: '賣鏟子的人。無論 AI 模型誰贏，算力的物理極限掌握在他們手中，每一筆運算都要繳過路費。',
                companies: ['TSMC (2330)', 'Nvidia (NVDA)', 'ASML'],
                risk: '地緣政治 (台海風險)、反壟斷調查。',
                color: 'border-teal-500',
                bg: 'bg-teal-50'
            },
            {
                id: 'labor',
                icon: '🤖',
                title: '新勞動力',
                role: 'The New Labor',
                logic: '擁有奴隸的人。Tesla 是首選（物理勞動力 Optimus + 能源 + AI）。Google/MSFT 擁有數位勞動力與數據霸權。',
                companies: ['Tesla (TSLA)', 'Google', 'Microsoft'],
                risk: '技術延遲 (FSD 卡關)、監管阻力。',
                color: 'border-indigo-500',
                bg: 'bg-indigo-50'
            },
            {
                id: 'currency',
                icon: '⚡',
                title: '新貨幣',
                role: 'The New Currency',
                logic: '掌握糧食的人。AI 吃電。在 UHI 印鈔時代，電力 (kWh)、銅礦與總量固定的比特幣是最硬的通貨。',
                companies: ['Eaton', '華城', '士電', 'Bitcoin (BTC)'],
                risk: '政策干預能源價格、加密貨幣波動。',
                color: 'border-amber-500',
                bg: 'bg-amber-50'
            },
            {
                id: 'arms',
                icon: '🛡️',
                title: '軍火商',
                role: 'The Arms Dealer',
                logic: '備援系統。雖然不做電網變壓器，但在電網不穩時，其儲能 (PCS) 與微電網技術是數據中心的救命稻草。',
                companies: ['台達電 (2308)'],
                risk: '傳統車廠轉型失敗拖累訂單。',
                color: 'border-blue-500',
                bg: 'bg-blue-50'
            }
        ];

        // --- Core Interactions ---

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
            // Update nav active state (simple implementation)
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            // This assumes the button click matches order. For more complex apps, use IntersectionObserver.
        }

        // Time View Toggle
        function updateTimeView(year) {
            const contentDiv = document.getElementById('time-content');
            const btn2026 = document.getElementById('btn-2026');
            const btn2030 = document.getElementById('btn-2030');

            contentDiv.innerHTML = timeData[year].text;
            contentDiv.className = `text-slate-600 leading-relaxed min-h-[120px] p-4 rounded-lg transition-all ${year === '2026' ? 'bg-slate-50' : 'bg-amber-50'}`;

            if(year === '2026') {
                btn2026.classList.replace('text-slate-500', 'text-slate-800');
                btn2026.classList.add('bg-white', 'shadow');
                btn2030.classList.remove('bg-white', 'shadow');
                btn2030.classList.add('text-slate-500');
            } else {
                btn2030.classList.replace('text-slate-500', 'text-amber-800');
                btn2030.classList.add('bg-white', 'shadow');
                btn2026.classList.remove('bg-white', 'shadow');
                btn2026.classList.add('text-slate-500');
            }
        }

        // Asset Grid Generation & Interaction
        function renderAssets() {
            const grid = document.getElementById('asset-grid');
            grid.innerHTML = assetData.map((asset, index) => `
                <div onclick="showAssetDetail(${index})" class="section-card p-6 cursor-pointer hover:border-amber-400 interactive-card ${index === 0 ? 'active-tier' : ''}" id="asset-card-${index}">
                    <div class="text-4xl mb-3">${asset.icon}</div>
                    <h3 class="text-lg font-bold text-slate-900">${asset.title}</h3>
                    <p class="text-xs text-slate-500 uppercase tracking-wide font-semibold mt-1">${asset.role}</p>
                </div>
            `).join('');
            
            // Show first asset by default
            showAssetDetail(0);
        }

        function showAssetDetail(index) {
            const asset = assetData[index];
            const panel = document.getElementById('asset-detail-panel');
            
            // Highlight active card
            document.querySelectorAll('.interactive-card').forEach(c => c.classList.remove('active-tier'));
            document.getElementById(`asset-card-${index}`).classList.add('active-tier');

            // Update panel content
            document.getElementById('detail-icon').textContent = asset.icon;
            document.getElementById('detail-title').textContent = asset.title;
            document.getElementById('detail-role').textContent = asset.role;
            document.getElementById('detail-logic').textContent = asset.logic;
            document.getElementById('detail-risk').textContent = asset.risk;
            
            const companiesContainer = document.getElementById('detail-companies');
            companiesContainer.innerHTML = asset.companies.map(c => 
                `<span class="inline-block px-3 py-1 bg-slate-100 text-slate-700 text-sm rounded border border-slate-300 font-medium">${c}</span>`
            ).join('');

            // Style panel border
            panel.className = `section-card p-8 bg-slate-50 border-t-4 transition-all block fade-in ${asset.color}`;
        }

        // Calculator Logic
        function calculateWealth() {
            const monthly = parseFloat(document.getElementById('monthly-inv').value);
            const type = document.getElementById('asset-type').value;
            
            let rate = 0;
            if (type === 'ai') rate = 0.25;
            else if (type === 'market') rate = 0.08;
            else rate = 0.015;

            // Simple compound interest: 5 years (2026-2030 = 60 months)
            const months = 60;
            let total = 0;
            
            for(let i=0; i<months; i++) {
                total = (total + monthly) * (1 + rate/12);
            }

            const resultEl = document.getElementById('result-value');
            const resultBox = document.getElementById('calc-result');
            
            // Animation for number
            resultBox.classList.remove('hidden');
            let current = 0;
            const step = total / 20;
            const animate = setInterval(() => {
                current += step;
                if(current >= total) {
                    current = total;
                    clearInterval(animate);
                }
                resultEl.textContent = 'NT$ ' + Math.floor(current).toLocaleString();
            }, 20);
        }

        // --- Chart.js Implementations ---

        function initCharts() {
            // 1. K-Shape Chart
            const ctxK = document.getElementById('kShapeChart').getContext('2d');
            new Chart(ctxK, {
                type: 'line',
                data: {
                    labels: ['2024', '2025', '2026', '2027', '2028', '2029', '2030'],
                    datasets: [
                        {
                            label: 'AI資產持有者 (Owners)',
                            data: [100, 130, 180, 250, 350, 500, 800],
                            borderColor: '#d97706', // Amber-600
                            backgroundColor: 'rgba(217, 119, 6, 0.1)',
                            borderWidth: 3,
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: '勞動力/現金持有者 (Pets)',
                            data: [100, 102, 101, 95, 90, 85, 80], // Inflation erosion
                            borderColor: '#64748b', // Slate-500
                            borderWidth: 2,
                            borderDash: [5, 5],
                            tension: 0.4,
                            fill: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.raw + '% 財富指數';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: { display: false },
                            title: { display: true, text: '相對財富購買力' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });

            // 2. Transformer Bottleneck Chart
            const ctxT = document.getElementById('transformerChart').getContext('2d');
            new Chart(ctxT, {
                type: 'bar',
                data: {
                    labels: ['2022 (一般時期)', '2026 (AI 爆發期)'],
                    datasets: [
                        {
                            label: '變壓器交貨週期 (月)',
                            data: [6, 36], // 6 months vs 36 months
                            backgroundColor: ['#cbd5e1', '#ef4444'], // Slate vs Red
                            borderRadius: 6
                        },
                        {
                            label: '電力需求 (TWh)',
                            data: [10, 80], // Conceptual scale
                            type: 'line',
                            borderColor: '#0d9488', // Teal
                            yAxisID: 'y1'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        title: { display: true, text: '供需嚴重失衡：交期延長 6 倍' }
                    },
                    scales: {
                        y: {
                            title: { display: true, text: '交貨月數' },
                            beginAtZero: true
                        },
                        y1: {
                            position: 'right',
                            title: { display: true, text: 'AI 電力需求指數' },
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        // --- Initialization ---
        window.addEventListener('DOMContentLoaded', () => {
            updateTimeView('2026');
            renderAssets();
            initCharts();

            // Mobile menu toggle
            document.getElementById('mobile-menu-btn').addEventListener('click', () => {
                document.getElementById('mobile-menu').classList.toggle('hidden');
            });
        });

    </script>
</body>
</html>
