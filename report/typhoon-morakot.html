<!DOCTYPE html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…«å…«é¢¨ç½äº‹ä»¶å›é¡§èˆ‡ç½é˜²æ³•è®Šé©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Lora:wght@700&family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f1f5f9; /* slate-100 */
        }
        h1, h2, h3 {
            font-family: 'Lora', serif;
        }
        .section-card {
            background-color: white;
            border-radius: 0.5rem;
            padding: 2rem;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            margin-bottom: 2.5rem;
            border: 1px solid #e2e8f0; /* slate-200 */
        }
        .nav-link {
            transition: all 0.3s ease;
            position: relative;
        }
        .nav-link:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #7f1d1d; /* red-900 */
            transition: width 0.3s ease;
        }
        .nav-link:hover:after, .nav-link.active:after {
            width: 100%;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Vertical Timeline */
        .timeline-container {
            position: relative;
            padding-left: 2rem; /* Space for the line */
        }
        .timeline-container::before {
            content: '';
            position: absolute;
            left: 8px; /* Center the dot */
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #cbd5e1; /* slate-300 */
        }
        .timeline-item {
            position: relative;
            margin-bottom: 2rem;
            cursor: pointer;
        }
        .timeline-item:last-child {
            margin-bottom: 0;
        }
        .timeline-dot {
            position: absolute;
            left: 0;
            top: 4px;
            width: 18px;
            height: 18px;
            background-color: #f1f5f9; /* slate-100 */
            border: 3px solid #94a3b8; /* slate-400 */
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        .timeline-item.active .timeline-dot {
            background-color: #7f1d1d; /* red-900 */
            border-color: #7f1d1d;
            transform: scale(1.1);
        }
        .timeline-content h4 {
            transition: color 0.3s ease;
        }
        .timeline-item:hover .timeline-content h4 {
            color: #991b1b; /* red-800 */
        }
    </style>
    <!-- Chosen Palette: Somber Tones (Slate, Dark Red) -->
    <!-- Application Structure Plan: The application uses a narrative, single-column scrolling structure to guide the user through a complex political and historical argument. It begins with the initial controversy (Fu Kun-chi's statements), provides historical context with an interactive vertical timeline of the Morakot disaster, explains the resulting legal changes with a clear 'before/after' comparison, and concludes by connecting these lessons to the present. This linear flow is the most logical way to present a cause-and-effect argument, making the information digestible and persuasive for the user. Navigation allows users to jump between key stages of the argument. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Fu Kun-chi's claims. Goal: Introduce the topic. Viz/Presentation: Stylized quote blocks. Interaction: None. Justification: Sets the stage clearly. Method: HTML/Tailwind.
        - Report Info: Timeline of Morakot disaster events (hotel collapse, village burial, aid refusal). Goal: Show the scale and chaos of the past failure. Viz/Presentation: Interactive vertical timeline. Interaction: Click events on timeline points to reveal detailed information cards and highlight the active point. Justification: A vertical timeline provides a clear narrative flow, works well on all screen sizes, and allows for better integration of text and visuals than a horizontal one for this type of content. Method: HTML/Tailwind/JS.
        - Report Info: Changes to the Disaster Prevention and Protection Act. Goal: Clearly explain the core legal shift. Viz/Presentation: Themed "Before vs. After" comparison table with icons. Interaction: Minimal (hover highlights). Justification: A side-by-side comparison is the most direct and understandable way to illustrate a legislative change, directly addressing the central point of the report. Method: HTML/Tailwind.
        - Report Info: Modern disaster response structure (local vs. central roles). Goal: Conclude the argument by applying the lesson. Viz/Presentation: Key-term definitions in a summary text. Interaction: Click on terms to show pop-up definitions. Justification: Reinforces understanding of current protocols and highlights the politician's error. Method: HTML/Tailwind/JS.
        - Note: The source report is entirely qualitative and narrative-based. Therefore, data charts are not applicable. The chosen interactive elements directly support the exploration of the report's textual and event-based information.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-slate-100 text-slate-700">

    <header class="text-center py-12 bg-white border-b-2 border-slate-200">
        <div class="container mx-auto px-4">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-800 mb-2">è«æ‹‰å…‹é¢¨ç½çš„è¨˜æ†¶èˆ‡éºå¿˜</h1>
            <p class="text-slate-500 text-lg">å¾16å¹´å‰çš„ç½é›£ï¼Œå¯©è¦–å°ç£ã€Šç½å®³é˜²æ•‘æ³•ã€‹çš„è¡€æ·šè®Šé©</p>
        </div>
    </header>
    
    <nav class="sticky top-0 bg-white/80 backdrop-blur-sm z-10 py-4 shadow-sm">
        <ul class="flex justify-center items-center space-x-6 md:space-x-10 text-sm md:text-base font-medium text-slate-600">
            <li><a href="#controversy" class="nav-link">ç·£èµ·çˆ­è­°</a></li>
            <li><a href="#morakot" class="nav-link">ç½é›£å›é¡§</a></li>
            <li><a href="#law-change" class="nav-link">æ³•åˆ¶è®Šé©</a></li>
            <li><a href="#lessons" class="nav-link">ä»Šæ—¥è­¦è¨Š</a></li>
        </ul>
    </nav>

    <div class="container mx-auto p-4 md:p-8 max-w-4xl mt-8">
        <main>
            <section id="controversy" class="section-card">
                <h2 class="text-3xl font-bold mb-6 text-center text-slate-800">
                    <span class="mr-2">â€œ</span>ç·£èµ·ï¼šä¸€æ®µå¤±æ†¶çš„è³ªè©¢<span class="ml-2">â€</span>
                </h2>
                <div class="space-y-4 text-slate-700 leading-relaxed text-base">
                    <p>è¿‘æœŸï¼Œç«‹æ³•å§”å“¡å‚…å´èæ–¼ç«‹æ³•é™¢è³ªè©¢ï¼Œå¤§è²ç–¾å‘¼ã€Œèª°ä¸»è²¬æ•‘ç½ï¼Ÿã€ï¼Œä¸¦ä»¥2009å¹´çš„è«æ‹‰å…‹é¢¨ç½ç‚ºä¾‹ï¼Œç››è®šç•¶æ™‚æˆç«‹ã€Œå‰é€²æŒ‡æ®ä¸­å¿ƒã€ã€é¦¬è‹±ä¹ç¸½çµ±éš”å¤©å‹˜ç½ã€å…§æ”¿éƒ¨é•·å»–äº†ä»¥é€²é§æŒ‡æ®ç­‰ï¼Œæœ€çµ‚å¾—å‡ºçµè«–ï¼šã€Œè¡Œæ”¿é™¢æ—©å°±è©²æ¥ç®¡äº†ã€ã€‚</p>
                    <blockquote class="border-l-4 border-red-800 pl-6 py-3 bg-red-50 rounded-r-lg my-6 text-red-900">
                        <p class="font-medium text-lg italic">ã€Œè«æ‹‰å…‹é¢±é¢¨ï¼Œæˆ‘å€‘æˆç«‹å‰é€²æŒ‡æ®ä¸­å¿ƒï¼Œéš”å¤©é¦¬è‹±ä¹å°±å»å‹˜ç½...è¡Œæ”¿é™¢æ—©å°±è©²æ¥ç®¡äº†ï¼ã€</p>
                        <cite class="text-sm text-red-700 block mt-2">- å‚…å´èå§”å“¡è³ªè©¢å…§å®¹</cite>
                    </blockquote>
                    <p>ç„¶è€Œï¼Œé€™ç•ªè¨€è«–æ°æ°å¿½ç•¥äº†è«æ‹‰å…‹é¢¨ç½æœ¬èº«å°±æ˜¯å°ç£é˜²ç½å²ä¸Šæœ€å…¨é¢å´©æ½°ã€æœ€æ²‰ç—›çš„æ•™è¨“ã€‚å…¶å¾Œçš„ã€Šç½å®³é˜²æ•‘æ³•ã€‹é‡å¤§ä¿®è¨‚ï¼Œæ­£æ˜¯ç‚ºäº†å¾¹åº•æ ¹é™¤ç•¶å¹´çš„æŒ‡æ®æ··äº‚èˆ‡åœ°æ–¹å¤±èƒ½ã€‚é€™æ®µè¢«éºå¿˜çš„æ­·å²ï¼Œèˆ‡å‚…å§”å“¡çš„è«–è¿°å¤§ç›¸é€•åº­ã€‚</p>
                </div>
            </section>

            <section id="morakot" class="section-card">
                <h2 class="text-3xl font-bold mb-6 text-center text-slate-800">
                    <span class="mr-2">ğŸŒªï¸</span>ç½é›£å›é¡§ï¼š2009å¹´çš„å´©æ½°ç¬é–“
                </h2>
                <p class="text-center text-slate-500 mb-8">2009å¹´8æœˆ8æ—¥å‰å¾Œï¼Œè«æ‹‰å…‹é¢±é¢¨é‡å‰µå°ç£ï¼Œæš´éœ²å‡ºèˆŠæœ‰ç½é˜²é«”ç³»ã€Œä¸­å¤®ç„¡æ³•æœ‰æ•ˆæŒ‡æ®ã€åœ°æ–¹ç„¡åŠ›ä¸»å‹•è² è²¬ã€çš„è‡´å‘½ç¼ºé™·ã€‚è«‹é»æ“Šä¸‹æ–¹æ™‚é–“è»¸ï¼Œé‡å›äº‹ç™¼ç¾å ´ã€‚</p>
                
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="md:col-span-1">
                        <div id="timeline-container" class="timeline-container">
                            <!-- Timeline items will be injected by JS -->
                        </div>
                    </div>
                    <div class="md:col-span-2">
                        <div id="timeline-details" class="p-6 bg-slate-50 rounded-lg min-h-[300px] border border-slate-200 transition-all duration-300 flex items-center justify-center">
                            <p class="text-center text-slate-400">è«‹é¸æ“‡å·¦å´ä¸€å€‹äº‹ä»¶ä»¥æŸ¥çœ‹è©³ç´°è³‡è¨Šã€‚</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="law-change" class="section-card">
                <h2 class="text-3xl font-bold mb-6 text-center text-slate-800">
                   <span class="mr-2">âš–ï¸</span>æ³•åˆ¶è®Šé©ï¼šã€Šç½å®³é˜²æ•‘æ³•ã€‹çš„è¡€æ·šæ•™è¨“
                </h2>
                <p class="text-center text-slate-500 mb-8">è«æ‹‰å…‹çš„æ…˜åŠ‡å‚¬ç”Ÿäº†æ³•å¾‹çš„è®Šé©ã€‚2010å¹´7æœˆï¼Œç«‹æ³•é™¢ä¸‰è®€é€šéã€Šç½å®³é˜²æ•‘æ³•ã€‹ä¿®æ­£æ¡ˆï¼Œå…¶ä¿®æ³•ç†ç”±æ˜ç¢ºæŒ‡å‡ºï¼šã€Œ<strong class="text-red-800">ç‚ºå¼·åŒ–åœ°æ–¹æ”¿åºœæ‡‰è² è²¬åœ°æ–¹ç½å®³é˜²æ•‘äº‹é …</strong>ã€ã€‚æ ¸å¿ƒç²¾ç¥å¾ä¸­å¤®é›†æ¬Šè½‰å‘ã€Œå¼·åŒ–åœ°æ–¹è²¬ä»»ã€ï¼Œç¢ºç«‹åœ°æ–¹æ”¿åºœåœ¨ç¬¬ä¸€ç·šæ•‘ç½ä¸­çš„ä¸»å°åœ°ä½ã€‚</p>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="p-6 border-2 border-red-200/80 rounded-lg bg-red-50/50">
                        <h3 class="text-2xl font-bold mb-4 text-red-800 flex items-center"><span class="text-3xl mr-3">âœ•</span>ä¿®æ³•å‰ (èˆŠåˆ¶)</h3>
                        <ul class="space-y-3 text-red-900 list-disc list-inside">
                            <li><strong>æ¬Šè²¬æ··äº‚ï¼š</strong> ä¸­å¤®èˆ‡åœ°æ–¹æ¬Šè²¬åŠƒåˆ†ä¸æ¸…ï¼Œç›¸äº’è§€æœ›ã€‚</li>
                            <li><strong>æŒ‡æ®å¤±éˆï¼š</strong> ä¸­å¤®é›£ä»¥ç›´æ¥æŒ‡æ®ï¼Œåœ°æ–¹åŸ·è¡ŒåŠ›ä¸å½°æˆ–é¸æ“‡æ€§åƒèˆ‡ã€‚</li>
                            <li><strong>è¢«å‹•åæ‡‰ï¼š</strong> åœ°æ–¹å¸¸ç­‰å¾…ä¸­å¤®æŒ‡ä»¤ï¼ŒéŒ¯å¤±é»ƒé‡‘æ•‘æ´æ™‚é–“ã€‚</li>
                            <li><strong>æ…˜ç—›æ¡ˆä¾‹ï¼š</strong> é«˜é›„ç¸£åºœæ”¶åˆ°ä¸­å¤®ç´…è‰²è­¦æˆ’å¾Œï¼Œæœªå®Œå…¨åŸ·è¡Œå°æ—æ‘æ’¤é›¢å‘½ä»¤ï¼Œçµ‚é‡€æ‚²åŠ‡ã€‚</li>
                        </ul>
                    </div>
                    <div class="p-6 border-2 border-green-200/80 rounded-lg bg-green-50/50">
                        <h3 class="text-2xl font-bold mb-4 text-green-800 flex items-center"><span class="text-3xl mr-3">âœ“</span>ä¿®æ³•å¾Œ (æ–°åˆ¶)</h3>
                        <ul class="space-y-3 text-green-900 list-disc list-inside">
                            <li><strong>åœ°æ–¹ä¸»è²¬ï¼š</strong> æ˜ç¢ºç½å®³é˜²æ•‘ç‚ºåœ°æ–¹æ”¿åºœæ‡‰åŸ·è¡Œä¹‹æ ¸å¿ƒäº‹é …ã€‚</li>
                            <li><strong>åœ°æ–¹ä¸»å°ï¼š</strong> ç¸£å¸‚æ”¿åºœå¿…é ˆä¸»å‹•è² è²¬ï¼Œæˆç«‹<strong class="font-bold">å‰é€²æŒ‡æ®æ‰€</strong>ã€‚</li>
                            <li><strong>ä¸­å¤®å”èª¿ï¼š</strong> ä¸­å¤®çµ±ç±Œè³‡æºã€è·¨å€å”èª¿ï¼Œæˆç«‹<strong class="font-bold">å‰é€²å”èª¿æ‰€</strong>ä»¥æ”¯æ´åœ°æ–¹ã€‚</li>
                            <li><strong>å¼·åˆ¶æ’¤é›¢ï¼š</strong> æ˜ç¢ºè³¦äºˆåœ°æ–¹æ”¿åºœåœ¨é»ƒè‰²è­¦æˆ’éšæ®µå³å¯åŸ·è¡Œå¼·åˆ¶æ’¤é›¢çš„æ¬Šè²¬ã€‚</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="lessons" class="section-card">
                <h2 class="text-3xl font-bold mb-6 text-center text-slate-800">
                    <span class="mr-2">ğŸ’¡</span>ä»Šæ—¥è­¦è¨Šï¼šç‚ºä½•ä¸èƒ½å¿˜è¨˜æ­·å²
                </h2>
                <div class="space-y-5 text-slate-700 leading-relaxed text-base">
                    <p>å‚…å§”å“¡çš„è¨€è«–ï¼Œé¡¯ç¤ºå‡ºä»–å°ç¾è¡Œã€Šç½é˜²æ³•ã€‹ç«‹æ³•ç²¾ç¥çš„æ ¹æœ¬èª¤è§£ã€‚ä»Šæ—¥çš„æ•‘ç½é«”ç³»ï¼Œæ­£æ˜¯å»ºç«‹åœ¨è«æ‹‰å…‹è¡€æ·šæ•™è¨“ä¹‹ä¸Šï¼Œå¼·èª¿ã€Œåœ°æ–¹æ”¿åºœã€çš„å°ˆæ¥­èˆ‡å³æ™‚åæ‡‰èƒ½åŠ›ï¼Œå› ç‚ºä»–å€‘æœ€äº†è§£åœ°æ–¹éœ€æ±‚ã€‚</p>
                    <p>é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼ï¼Œåœ¨è¿‘æœŸçš„é¦¬å¤ªéæºªå °å¡æ¹–äº‹ä»¶ä¸­ï¼Œæ˜¯ç”±ã€ŒèŠ±è“®ç¸£åºœã€æˆç«‹ã€Œ<strong class="text-red-800 cursor-pointer term" data-term="fcp">å‰é€²æŒ‡æ®æ‰€</strong>ã€ï¼Œè€Œä¸­å¤®æˆç«‹çš„æ˜¯ã€Œ<strong class="text-red-800 cursor-pointer term" data-term="fcc">å‰é€²å”èª¿æ‰€</strong>ã€ã€‚å…©è€…åç¨±çš„å·®ç•°ï¼Œæ­£é«”ç¾äº†ã€Œåœ°æ–¹ä¸»è²¬ã€ä¸­å¤®å”èª¿ã€çš„æ†²æ”¿åŸå‰‡ã€‚</p>
                    <p>16å¹´å¾Œçš„ä»Šå¤©ï¼Œå‚…å§”å“¡æ‹¿è«æ‹‰å…‹é¢¨ç½çš„æ··äº‚ï¼Œä¾†ç•¶ä½œã€Œä¸­å¤®æ‡‰å…¨é¢æ¥ç®¡ã€çš„ç†ç”±ï¼Œä¸åƒ…æ˜¯è¨˜æ†¶çš„éŒ¯ç½®ï¼Œæ›´æ˜¯å°æ­·å²æ•™è¨“çš„è«å¤§è«·åˆºã€‚ç•¶å¹´çš„æ‚²åŠ‡æºæ–¼ç³»çµ±æ€§çš„å¤±éˆï¼Œè€Œæ”¹é©å¾Œçš„ç³»çµ±æ—¨åœ¨è³¦äºˆæœ€äº†è§£åœ°æ–¹æƒ…å‹¢çš„äººæœ€å¤§çš„è²¬ä»»ã€‚é€™ç¨®è¨€è«–ä¸åªæ˜¯å¥å¿˜ï¼Œæ›´æ˜¯å°ç½æ°‘è‹¦é›£çš„å†·è¡€åˆ©ç”¨ã€‚</p>
                </div>
            </section>
        </main>
    </div>

    <div id="modal-backdrop" class="fixed inset-0 bg-black bg-opacity-60 hidden z-40 transition-opacity duration-300"></div>
    <div id="term-modal" class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white p-8 rounded-lg shadow-2xl w-11/12 max-w-md hidden z-50 transition-transform duration-300 scale-95">
        <h3 id="modal-title" class="text-2xl font-bold mb-4 text-slate-800 font-lora"></h3>
        <p id="modal-content" class="text-slate-600"></p>
        <button id="modal-close" class="absolute top-4 right-4 text-slate-400 hover:text-slate-700 text-2xl font-bold">&times;</button>
    </div>
    
    <footer class="text-center py-6 bg-slate-800 text-slate-400 text-sm mt-8">
        <p>&copy; 2025 äº‹ä»¶åˆ†æå ±å‘Š. All rights reserved.</p>
    </footer>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const timelineData = [
                { 
                    id: 'kaohsiung', 
                    title: 'é«˜é›„å°æ—æ‘æ»…æ‘', 
                    content_title: 'ğŸ’” é«˜é›„å°æ—æ‘ï¼šæœªåŸ·è¡Œçš„æ’¤é›¢ä»¤',
                    content: '<strong>äº‹ä»¶ï¼š</strong>å› ç»è‚šå±±åš´é‡åœŸçŸ³æµï¼Œæ•´å€‹æ‘è½é­åœŸçŸ³æ©åŸ‹ï¼Œè¿‘500äººç½¹é›£ã€‚<strong>é—œéµå¤±èª¤ï¼š</strong>å„˜ç®¡ä¸­å¤®ç½è®Šä¸­å¿ƒç™¼å¸ƒç´…è‰²è­¦æˆ’ï¼Œé çŸ¥åœŸçŸ³æµé¢¨éšªä¸¦è¦æ±‚æ’¤é›¢ï¼Œä½†é«˜é›„ç¸£åºœä¸¦æœªå®Œå…¨åŸ·è¡Œå‘½ä»¤ï¼Œæœ€çµ‚å°è‡´ç„¡æ³•æŒ½å›çš„æ‚²åŠ‡ã€‚' 
                },
                { 
                    id: 'taitung', 
                    title: 'å°æ±é‡‘å¸¥é£¯åº—å€’å¡Œ',
                    content_title: 'ğŸŒŠ å°æ±çŸ¥æœ¬ï¼šè¢«æç©ºçš„æ ¹åŸº',
                    content: '<strong>äº‹ä»¶ï¼š</strong>çŸ¥æœ¬æºªæš´æ¼²ï¼Œæ´ªæ°´å¦‚çŒ›ç¸èˆ¬æç©ºæºªé‚Šè·¯åŸºï¼Œå°è‡´å…«å±¤æ¨“é«˜çš„é‡‘å¸¥æº«æ³‰é£¯åº—åœ¨å…¨åœ‹é›»è¦–è½‰æ’­ç•«é¢ä¸­ï¼Œæ•´æ£Ÿè½Ÿç„¶å€’å¡Œã€è¢«æ²–å…¥æ»¾æ»¾æ´ªæµï¼Œæˆç‚ºé¢¨ç½ä¸­æœ€å…·è¡æ“Šæ€§çš„ç•«é¢ã€‚' 
                },
                { 
                    id: 'nantou', 
                    title: 'å—æŠ•äº¤é€šå‹•è„ˆä¸­æ–·',
                    content_title: 'ğŸš§ å—æŠ•æ°´é‡Œï¼šå´©å¡Œçš„é“è·¯',
                    content: '<strong>äº‹ä»¶ï¼š</strong>æ°´é‡Œè·¯æ®µè·¯é¢åš´é‡åå¡Œï¼Œé€ æˆ7äºº15è»Šå¢œè½æ¿æ°´æºªã€‚ä¿¡ç¾©é„‰ç¥æœ¨æ‘ç­‰åœ°äº¤é€šã€é€šè¨Šå®Œå…¨ä¸­æ–·ï¼Œå½¢åŒå­¤å³¶ï¼Œå±…æ°‘æ–·æ°´æ–·é›»ï¼Œç½æƒ…æ…˜é‡ã€‚'
                },
                { 
                    id: 'aid', 
                    title: 'ä¸­å¤®æ”¿åºœæ‹’çµ•å¤–æ´', 
                    content_title: 'â›”ï¸ å¤–äº¤éƒ¨ï¼šä¸€å°å©‰æ‹’æ´åŠ©çš„é›»å ±',
                    content: '<strong>äº‹ä»¶ï¼š</strong>ç½å¾Œç¾åœ‹ã€æ—¥æœ¬ç­‰å¤šåœ‹è¡¨é”æ´åŠ©æ„é¡˜ï¼Œç¾è»ä¹Ÿå·²å¾…å‘½ï¼Œä½†å¤–äº¤éƒ¨å»ç™¼å‡ºã€Œç‰¹æ€¥å…¬æ–‡ã€å©‰æ‹’å¤–åœ‹æ´åŠ©åœ˜éšŠä¾†å°ã€‚æ¶ˆæ¯æ›å…‰å¾Œå¼•ç™¼è»’ç„¶å¤§æ³¢ï¼Œæ”¿åºœèµ·åˆå¦èªï¼Œæœ€çµ‚å¤–äº¤éƒ¨æ”¿æ¬¡å¤ç«‹è¨€å¦æ‰¿ã€Œæ–‡å­—ç–å¤±ã€ä¸¦è«‹è¾­ä¸‹å°ï¼Œé‡å‰µæ”¿åºœå½¢è±¡ã€‚'
                }
            ];

            const timelineContainer = document.getElementById('timeline-container');
            const detailsContainer = document.getElementById('timeline-details');

            timelineData.forEach(item => {
                const itemEl = document.createElement('div');
                itemEl.className = 'timeline-item';
                itemEl.dataset.id = item.id;
                itemEl.innerHTML = `
                    <div class="timeline-dot"></div>
                    <div class="timeline-content ml-4">
                        <h4 class="font-bold text-lg text-slate-600">${item.title}</h4>
                    </div>
                `;
                timelineContainer.appendChild(itemEl);
            });

            const timelineItems = document.querySelectorAll('.timeline-item');
            
            function updateTimeline(selectedId) {
                const data = timelineData.find(d => d.id === selectedId);
                if (data) {
                    detailsContainer.innerHTML = `
                        <div class="fade-in text-left">
                            <h3 class="text-2xl font-bold mb-4 text-slate-800 font-lora">${data.content_title}</h3>
                            <p class="text-slate-600 leading-relaxed">${data.content}</p>
                        </div>`;
                }
                 timelineItems.forEach(i => {
                    if(i.dataset.id === selectedId) {
                        i.classList.add('active');
                    } else {
                        i.classList.remove('active');
                    }
                });
            }

            timelineItems.forEach(item => {
                item.addEventListener('click', () => {
                    updateTimeline(item.dataset.id);
                });
            });
            
            // Set initial state
            if(timelineData.length > 0) {
                 updateTimeline(timelineData[0].id);
            }

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');

            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 100) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });


            const termDefinitions = {
                fcp: {
                    title: "å‰é€²æŒ‡æ®æ‰€ (Forward Command Post)",
                    content: "ç”±ç½å®³æ‰€åœ¨åœ°çš„ç›´è½„å¸‚ã€ç¸£ï¼ˆå¸‚ï¼‰æ”¿åºœæˆç«‹ï¼Œè² è²¬ç¬¬ä¸€ç·šçš„æ•‘ç½æŒ‡æ®ã€èª¿åº¦èˆ‡æ±ºç­–ã€‚é€™æ˜¯ã€åœ°æ–¹æ”¿åºœã€ä¸»è²¬æ•‘ç½çš„å…·é«”é«”ç¾ï¼Œæ—¨åœ¨ç™¼æ®æœ€é«˜æ•ˆç‡ã€‚"
                },
                fcc: {
                    title: "å‰é€²å”èª¿æ‰€ (Forward Coordination Center)",
                    content: "ç•¶ç½å®³è¦æ¨¡é¾å¤§ï¼Œæˆ–æ¶‰åŠä¸­å¤®éƒ¨æœƒæ¬Šè²¬æ™‚ï¼Œç”±ä¸­å¤®ç½å®³æ‡‰è®Šä¸­å¿ƒæ´¾å“¡æˆç«‹ã€‚å…¶ä¸»è¦åŠŸèƒ½æ˜¯ã€å”èª¿ã€ä¸­å¤®è³‡æºï¼Œç”¨ä»¥ã€æ”¯æ´ã€åœ°æ–¹çš„å‰é€²æŒ‡æ®æ‰€ï¼Œè€Œéå–ä»£å…¶æŒ‡æ®æ¬Šã€‚"
                }
            };

            const modalBackdrop = document.getElementById('modal-backdrop');
            const termModal = document.getElementById('term-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalContent = document.getElementById('modal-content');
            const modalClose = document.getElementById('modal-close');

            document.querySelectorAll('.term').forEach(term => {
                term.addEventListener('click', () => {
                    const termKey = term.dataset.term;
                    const definition = termDefinitions[termKey];
                    if (definition) {
                        modalTitle.textContent = definition.title;
                        modalContent.textContent = definition.content;
                        modalBackdrop.classList.remove('hidden');
                        modalBackdrop.classList.add('opacity-100');
                        termModal.classList.remove('hidden');
                        termModal.classList.add('scale-100');
                    }
                });
            });

            function closeModal() {
                modalBackdrop.classList.remove('opacity-100');
                termModal.classList.remove('scale-100');
                setTimeout(() => {
                    modalBackdrop.classList.add('hidden');
                    termModal.classList.add('hidden');
                }, 300);
            }

            modalBackdrop.addEventListener('click', closeModal);
            modalClose.addEventListener('click', closeModal);

        });
    </script>
</body>
</html>

