<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>元大台灣50 (0050) 十年投資績效全解析 (Canvas版)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .canvas-infographic-item {
            width: 100%;
            height: 280px;
            max-width: 450px; /* Max width for big number cards */
            margin-left: auto;
            margin-right: auto;
        }
         .flowchart-canvas-container {
            width: 100%;
            max-width: 900px; /* Increased max-width for flowchart */
            margin-left: auto;
            margin-right: auto;
            height: 200px; /* Adjust as needed */
        }
        @media (max-width: 767px) {
            .flowchart-canvas-container {
                 height: 500px; /* Taller for mobile stack */
            }
        }
    </style>
</head>
<body class="bg-[#005F73] text-gray-800">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12 py-8">
            <h1 class="text-4xl md:text-6xl font-bold text-white mb-4">元大台灣50 (0050)</h1>
            <p class="text-xl md:text-2xl text-[#E9D8A6]">十年投資績效全解析 (Canvas版)</p>
        </header>

        <section id="hook" class="mb-12">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <canvas id="cumulativeReturnCanvas" class="canvas-infographic-item bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl"></canvas>
                </div>
                <div>
                    <canvas id="annualizedReturnCanvas" class="canvas-infographic-item bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl"></canvas>
                </div>
            </div>
             <p class="text-center text-xs text-white/70 mt-4">註：總報酬數據基於報告中2015/6/1至2025/5/29期間之臺灣50報酬指數估算值，實際報酬應以臺灣證券交易所歷史數據為準。</p>
        </section>

        <section id="total-return" class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12">
            <h2 class="text-3xl font-bold text-[#005F73] mb-4">總報酬深度解析：複利的威力</h2>
            <p class="text-gray-700 mb-6">總報酬是衡量投資績效最真實的指標，它不僅包含股價上漲帶來的資本利得，更關鍵的是將每年配發的股息進行再投資所產生的複利效果。下方的圖表模擬了臺灣50報酬指數在過去十年的增長軌跡，清晰地展示了長期堅持「股息再投資」策略所帶來的驚人成果。</p>
            <div class="chart-container">
                <canvas id="totalReturnChart"></canvas>
            </div>
             <p class="text-center text-xs text-gray-500 mt-4">圖表數據點為示意，旨在說明指數增長趨勢。期初與期末值對應報告中估算數據。</p>
        </section>

        <section id="dividend-performance" class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12">
            <h2 class="text-3xl font-bold text-[#005F73] mb-4">歷年股息表現 (2015-2024)</h2>
            <p class="text-gray-700 mb-6">0050不僅提供資本增值的潛力，也持續為投資者帶來現金流。此圖表整合了過去十年每股的現金股利總額（柱狀圖）與對應的年均殖利率（折線圖）。您可以觀察到，即使在某些殖利率因股價高漲而看似較低的年份，每股實際發放的現金股利金額仍可能處於高檔，這反映了成分企業穩健的獲利與派息能力。</p>
            <div class="chart-container">
                <canvas id="dividendChart"></canvas>
            </div>
             <p class="text-center text-xs text-gray-500 mt-4">資料來源：綜合整理自報告中引用的市場公開資訊。</p>
        </section>

        <section id="strategy" class="bg-white rounded-2xl shadow-xl p-6 md:p-8 mb-12">
            <h2 class="text-3xl font-bold text-[#005F73] mb-4">投資策略：簡單而強大</h2>
            <p class="text-gray-700 mb-8">0050的成功在於其清晰的被動式投資策略。它不試圖預測市場、挑選個股，而是透過「完全複製法」緊密追蹤臺灣50指數，讓投資者能以低成本、高效率的方式，一次性參與台灣50家最具代表性龍頭企業的長期發展。</p>
            <div class="flowchart-canvas-container">
                <canvas id="flowChartCanvas"></canvas>
            </div>
        </section>

        <section id="conclusion" class="bg-transparent p-6 md:p-8">
            <h2 class="text-3xl font-bold text-white text-center mb-6">核心洞察與結論</h2>
            <div class="max-w-3xl mx-auto bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-8">
                <p class="text-gray-700 mb-6">回顧過去十年，0050 ETF為投資者提供了參與台灣經濟成長的絕佳途徑。其績效證明了幾項重要的投資原則：</p>
                <ul class="space-y-4">
                    <li class="flex items-start">
                        <span class="text-2xl text-[#0A9396] mr-4">📈</span>
                        <div>
                            <h3 class="font-bold text-lg text-[#005F73]">長期持有是關鍵</h3>
                            <p class="text-gray-600">市場雖有波動，但長期持有能有效捕捉台灣大型企業的增長趨勢，平滑短期震盪，獲得可觀的總報酬。</p>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-2xl text-[#EE9B00] mr-4">💰</span>
                        <div>
                            <h3 class="font-bold text-lg text-[#005F73]">股息再投資的複利魔法</h3>
                            <p class="text-gray-600">將收到的股息持續投入，是加速資產累積的核心驅動力。總報酬指數的表現已完美詮釋了這一點。</p>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-2xl text-[#AE2012] mr-4">🎯</span>
                        <div>
                            <h3 class="font-bold text-lg text-[#005F73]">分散投資的力量</h3>
                            <p class="text-gray-600">透過持有50家不同產業的龍頭股，0050有效分散了單一個股的風險，讓投資更穩健。</p>
                        </div>
                    </li>
                </ul>
                <p class="mt-8 text-sm text-gray-500 text-center">過去的績效不保證未來的回報。任何投資決策均應基於個人的財務狀況與風險承受能力。</p>
            </div>
        </section>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const brilliantBlues = {
                darkTeal: '#005F73',
                teal: '#0A9396',
                lightTeal: '#94D2BD',
                paleYellow: '#E9D8A6',
                orange: '#EE9B00',
                darkOrange: '#CA6702',
                burntSienna: '#BB3E03',
                darkRed: '#AE2012',
                maroon: '#9B2226',
                white: '#FFFFFF',
                gray600: '#4B5563',
                cardBg: 'rgba(255, 255, 255, 0.9)'
            };

            const wrapLabel = (label) => {
                const maxLength = 16;
                if (typeof label !== 'string' || label.length <= maxLength) {
                    return label;
                }
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + ' ' + word).trim().length > maxLength) {
                        lines.push(currentLine.trim());
                        currentLine = word;
                    } else {
                        currentLine = (currentLine + ' ' + word).trim();
                    }
                });
                if (currentLine) {
                    lines.push(currentLine.trim());
                }
                return lines;
            };

            const tooltipTitleCallback = (tooltipItems) => {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                    return label.join(' ');
                } else {
                    return label;
                }
            };

            function wrapCanvasText(ctx, text, x, y, maxWidth, lineHeight, textAlign = 'center') {
                const words = text.split(' ');
                let line = '';
                let currentY = y;
                ctx.textAlign = textAlign;

                for (let n = 0; n < words.length; n++) {
                    let testLine = line + words[n] + ' ';
                    let metrics = ctx.measureText(testLine);
                    let testWidth = metrics.width;
                    if (testWidth > maxWidth && n > 0) {
                        ctx.fillText(line, x, currentY);
                        line = words[n] + ' ';
                        currentY += lineHeight;
                    } else {
                        line = testLine;
                    }
                }
                ctx.fillText(line, x, currentY);
                return currentY + lineHeight;
            }

            function drawBigNumberCanvas(canvasId, titleText, valueText, valueUnit, descriptionText, colors) {
                const canvas = document.getElementById(canvasId);
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                
                const dpr = window.devicePixelRatio || 1;
                const rect = canvas.getBoundingClientRect();
                canvas.width = rect.width * dpr;
                canvas.height = rect.height * dpr;
                ctx.scale(dpr, dpr);

                const padding = 20;
                const contentWidth = rect.width - 2 * padding;
                
                ctx.clearRect(0, 0, rect.width, rect.height);
                
                ctx.font = `bold 16px 'Noto Sans TC'`;
                ctx.fillStyle = colors.teal;
                ctx.textAlign = 'center';
                ctx.fillText(titleText, rect.width / 2, padding + 20);

                ctx.font = `bold 60px 'Noto Sans TC'`;
                ctx.fillStyle = colors.darkOrange;
                const valueWidth = ctx.measureText(valueText).width;
                const unitWidth = ctx.measureText(valueUnit).width;
                const totalValueUnitWidth = valueWidth + unitWidth + 5;
                ctx.fillText(valueText, rect.width / 2 - (totalValueUnitWidth - valueWidth)/2 + valueWidth/2 , padding + 90);

                ctx.font = `bold 50px 'Noto Sans TC'`;
                ctx.fillStyle = colors.darkOrange;
                ctx.fillText(valueUnit, rect.width / 2 + (totalValueUnitWidth - unitWidth)/2 - unitWidth/2, padding + 90);


                ctx.font = `13px 'Noto Sans TC'`;
                ctx.fillStyle = colors.gray600;
                wrapCanvasText(ctx, descriptionText, rect.width / 2, padding + 125, contentWidth - 20, 20);
            }
            
            drawBigNumberCanvas('cumulativeReturnCanvas', '十年累積總報酬', '242.32', '%', '此數據基於臺灣50報酬指數估算，包含股息再投資的複利效果，展現了長期持有的增長潛力。', brilliantBlues);
            drawBigNumberCanvas('annualizedReturnCanvas', '十年年化總報酬', '13.09', '%', '相當於在過去十年，您的投資平均每年以將近13.1%的複合成長率增長。', brilliantBlues);


            function drawFlowChart(canvasId, steps, colors) {
                const canvas = document.getElementById(canvasId);
                if (!canvas) return;
                const ctx = canvas.getContext('2d');

                const dpr = window.devicePixelRatio || 1;
                const rect = canvas.getBoundingClientRect();
                canvas.width = rect.width * dpr;
                canvas.height = rect.height * dpr;
                ctx.scale(dpr, dpr);
                
                ctx.clearRect(0, 0, rect.width, rect.height);

                const isMobile = rect.width < 768;
                const boxWidth = isMobile ? rect.width * 0.6 : 160;
                const boxHeight = 60;
                const arrowSize = 10;
                const gap = isMobile ? 30 : 30;
                const totalBoxes = steps.length;

                let startX, startY, xIncrement, yIncrement;

                if (isMobile) {
                    startX = rect.width / 2;
                    startY = 30;
                    xIncrement = 0;
                    yIncrement = boxHeight + gap + arrowSize;
                } else {
                    const totalWidth = totalBoxes * boxWidth + (totalBoxes - 1) * (gap + arrowSize * 2);
                    startX = (rect.width - totalWidth) / 2 + boxWidth / 2;
                    startY = rect.height / 2;
                    xIncrement = boxWidth + gap + arrowSize * 2;
                    yIncrement = 0;
                }

                ctx.font = `bold 13px 'Noto Sans TC'`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';

                let currentX = startX;
                let currentY = startY;

                steps.forEach((step, index) => {
                    const xPos = isMobile ? currentX - boxWidth / 2 : currentX - boxWidth / 2;
                    const yPos = isMobile ? currentY : currentY - boxHeight / 2;

                    ctx.fillStyle = step.bgColor;
                    ctx.beginPath();
                    ctx.roundRect(xPos, yPos, boxWidth, boxHeight, 8);
                    ctx.fill();
                    
                    ctx.fillStyle = step.textColor;
                    const lines = step.text.split('\n');
                    if (lines.length === 1) {
                        ctx.fillText(lines[0], xPos + boxWidth / 2, yPos + boxHeight / 2);
                    } else {
                         ctx.fillText(lines[0], xPos + boxWidth / 2, yPos + boxHeight / 2 - 7);
                         ctx.font = `11px 'Noto Sans TC'`;
                         ctx.fillText(lines[1], xPos + boxWidth / 2, yPos + boxHeight / 2 + 10);
                         ctx.font = `bold 13px 'Noto Sans TC'`;
                    }


                    if (index < steps.length - 1) {
                        ctx.strokeStyle = colors.orange;
                        ctx.lineWidth = 2;
                        ctx.beginPath();
                        let arrowStartX, arrowStartY, arrowEndX, arrowEndY;

                        if (isMobile) {
                            arrowStartX = currentX;
                            arrowStartY = yPos + boxHeight;
                            arrowEndX = currentX;
                            arrowEndY = yPos + boxHeight + gap + arrowSize;
                            ctx.moveTo(arrowStartX, arrowStartY);
                            ctx.lineTo(arrowEndX, arrowEndY - arrowSize);
                        } else {
                            arrowStartX = xPos + boxWidth;
                            arrowStartY = currentY;
                            arrowEndX = xPos + boxWidth + gap + arrowSize * 2;
                            arrowEndY = currentY;
                            ctx.moveTo(arrowStartX, arrowStartY);
                            ctx.lineTo(arrowEndX - arrowSize, arrowEndY);
                        }
                        ctx.stroke();
                        
                        ctx.fillStyle = colors.orange;
                        ctx.beginPath();
                        if (isMobile) {
                            ctx.moveTo(arrowEndX, arrowEndY);
                            ctx.lineTo(arrowEndX - arrowSize / 2, arrowEndY - arrowSize);
                            ctx.lineTo(arrowEndX + arrowSize / 2, arrowEndY - arrowSize);
                        } else {
                            ctx.moveTo(arrowEndX, arrowEndY);
                            ctx.lineTo(arrowEndX - arrowSize, arrowEndY - arrowSize / 2);
                            ctx.lineTo(arrowEndX - arrowSize, arrowEndY + arrowSize / 2);
                        }
                        ctx.closePath();
                        ctx.fill();
                    }
                    currentX += xIncrement;
                    currentY += yIncrement;
                });
            }

            const flowChartSteps = [
                { text: "投資者投入資金", bgColor: brilliantBlues.paleYellow, textColor: brilliantBlues.darkOrange },
                { text: "0050 ETF\n追蹤臺灣50指數", bgColor: brilliantBlues.lightTeal, textColor: brilliantBlues.darkTeal },
                { text: "持有50家龍頭企業", bgColor: brilliantBlues.paleYellow, textColor: brilliantBlues.darkOrange },
                { text: "產生資本利得\n與股息", bgColor: brilliantBlues.lightTeal, textColor: brilliantBlues.darkTeal }
            ];
            drawFlowChart('flowChartCanvas', flowChartSteps, brilliantBlues);
            
            window.addEventListener('resize', () => {
                drawBigNumberCanvas('cumulativeReturnCanvas', '十年累積總報酬', '242.32', '%', '此數據基於臺灣50報酬指數估算，包含股息再投資的複利效果，展現了長期持有的增長潛力。', brilliantBlues);
                drawBigNumberCanvas('annualizedReturnCanvas', '十年年化總報酬', '13.09', '%', '相當於在過去十年，您的投資平均每年以將近13.1%的複合成長率增長。', brilliantBlues);
                drawFlowChart('flowChartCanvas', flowChartSteps, brilliantBlues);
            });

            const totalReturnData = {
                labels: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025'],
                datasets: [{
                    label: '臺灣50報酬指數 (示意)',
                    data: [11673.87, 13000, 15500, 17000, 21000, 26000, 34000, 33000, 36000, 38000, 39963.72],
                    borderColor: brilliantBlues.darkOrange,
                    backgroundColor: 'rgba(202, 103, 2, 0.2)',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 4,
                    pointBackgroundColor: brilliantBlues.darkOrange
                }]
            };

            const totalReturnCtx = document.getElementById('totalReturnChart').getContext('2d');
            new Chart(totalReturnCtx, {
                type: 'line',
                data: totalReturnData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: { color: brilliantBlues.darkTeal },
                            grid: { color: 'rgba(0, 95, 115, 0.1)' }
                        },
                        x: {
                            ticks: { color: brilliantBlues.darkTeal },
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                title: tooltipTitleCallback
                            },
                            backgroundColor: 'rgba(0, 0, 0, 0.7)',
                            titleFont: { size: 14 },
                            bodyFont: { size: 12 },
                            padding: 10
                        }
                    }
                }
            });

            const dividendData = {
                labels: ['2015', '2016', '2017', '2018', '2019', '2020', '2021', '2022', '2023', '2024'],
                datasets: [
                    {
                        type: 'bar',
                        label: '年度現金股利總額 (元)',
                        data: [2.0, 2.55, 2.9, 3.0, 3.6, 3.75, 3.55, 4.4, 4.9, 3.7],
                        backgroundColor: brilliantBlues.lightTeal,
                        borderColor: brilliantBlues.teal,
                        borderWidth: 1,
                        yAxisID: 'y'
                    },
                    {
                        type: 'line',
                        label: '年均現金殖利率 (%)',
                        data: [3.03, 2.96, 3.37, 3.75, 3.99, 2.85, 2.40, 3.76, 3.72, 1.88],
                        borderColor: brilliantBlues.burntSienna,
                        backgroundColor: 'transparent',
                        tension: 0.3,
                        yAxisID: 'y1',
                        pointRadius: 5,
                        pointBackgroundColor: brilliantBlues.darkRed,
                    }
                ]
            };
            
            const dividendCtx = document.getElementById('dividendChart').getContext('2d');
            new Chart(dividendCtx, {
                data: dividendData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            type: 'linear',
                            display: true,
                            position: 'left',
                            title: {
                                display: true,
                                text: '現金股利 (元)',
                                color: brilliantBlues.teal,
                                font: { weight: 'bold' }
                            },
                            ticks: { color: brilliantBlues.teal },
                             grid: { color: 'rgba(0, 95, 115, 0.1)' }
                        },
                        y1: {
                            type: 'linear',
                            display: true,
                            position: 'right',
                            title: {
                                display: true,
                                text: '年均殖利率 (%)',
                                color: brilliantBlues.burntSienna,
                                font: { weight: 'bold' }
                            },
                            ticks: { color: brilliantBlues.burntSienna },
                            grid: {
                                drawOnChartArea: false, 
                            },
                        },
                         x: {
                            ticks: { color: brilliantBlues.darkTeal },
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: {
                           position: 'top',
                           labels: {
                               color: brilliantBlues.darkTeal
                           }
                        },
                        tooltip: {
                            callbacks: {
                                title: tooltipTitleCallback,
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y !== null) {
                                        label += parseFloat(context.parsed.y).toFixed(2);
                                        if (context.dataset.yAxisID === 'y') {
                                            label += ' 元';
                                        } else {
                                            label += ' %';
                                        }
                                    }
                                    return label;
                                }
                            },
                             backgroundColor: 'rgba(0, 0, 0, 0.7)',
                            titleFont: { size: 14 },
                            bodyFont: { size: 12 },
                            padding: 10
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
