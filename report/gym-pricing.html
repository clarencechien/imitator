<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>健身房教練課方案 | 視覺化分析圖表</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- 
    Narrative Plan:
    1. Hook: Catchy title about making smart fitness investments.
    2. Section 1 (Package Overview): Bar chart to show how price-per-session decreases as package size increases.
    3. Section 2 (The "Upgrade" Secret): A robust, responsive HTML/CSS flowchart to visually explain the upgrade path.
    4. Section 3 (Cost Showdown): A grouped bar chart to compare different buying strategies head-to-head, accompanied by "big number" callouts for the savings.
    5. Section 4 (Recommendation): A concluding section with a donut chart to highlight the recommended "sweet spot" package.

    Visualization Plan (NO SVG, NO MERMAID JS):
    1. Data Point: Price per session vs. Package size.
       - Goal: Compare.
       - Chosen Viz: Ordered Bar Chart (Chart.js).
       - Justification: Best for comparing values across categories and showing a clear trend. Implemented with Chart.js Canvas. NO SVG.
    2. Data Point: The 'Upgrade' Process.
       - Goal: Organize.
       - Chosen Viz: Flow Chart (Responsive, Structured HTML/CSS with Tailwind Flexbox).
       - Justification: Visually explains a process/decision path clearly on all screen sizes. Implemented with styled divs. NO SVG, NO MERMAID JS.
    3. Data Point: Cost comparison for 72 sessions.
       - Goal: Compare.
       - Chosen Viz: Grouped Bar Chart (Chart.js).
       - Justification: Ideal for direct, side-by-side comparison of different strategies. Implemented with Chart.js Canvas. NO SVG.
    4. Data Point: Savings from upgrading.
       - Goal: Inform.
       - Chosen Viz: Single Big Number Callout.
       - Justification: High-impact method to convey a key metric. Implemented with styled HTML text. NO SVG.
    5. Data Point: Recommendation for the 36-session package.
       - Goal: Inform.
       - Chosen Viz: Donut Chart (Chart.js).
       - Justification: Excellent for showing a part-to-whole relationship, positioning the 36-session plan as the primary, balanced choice. Implemented with Chart.js Canvas. NO SVG.
    
    Color Palette Selection: Energetic & Playful from the provided reference image.
    
    Confirmation: NEITHER Mermaid JS NOR SVG were used in this output. All visuals are rendered using Chart.js on Canvas or structured HTML with Tailwind CSS.
    -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f8f9fa;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .flowchart-node {
            border: 2px solid;
            padding: 0.75rem 1.25rem;
            border-radius: 0.5rem;
            text-align: center;
            background-color: white;
            width: 10rem;
            flex-shrink: 0;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-6xl">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900">聰明健身，精明消費</h1>
            <p class="text-xl md:text-2xl text-blue-600 mt-2">您的專屬教練課全攻略</p>
        </header>

        <main class="space-y-12">

            <section id="overview" class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold mb-2">第一步：了解價格結構</h2>
                <p class="text-gray-600 mb-6">教練課的核心原則是「買越多，單價越便宜」。這張圖表清楚顯示了不同方案的單價差異，幫助您快速掌握基本盤。</p>
                <div class="chart-container h-80 md:h-96">
                    <canvas id="pricePerSessionChart"></canvas>
                </div>
            </section>
            
            <section id="upgrade-flow" class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold mb-2">致勝關鍵：「升級」的秘密</h2>
                <p class="text-gray-600 mb-10">看不懂「可升級」是什麼意思？別擔心，這其實是為您省錢的彈性機制。透過這個流程圖，您可以了解如何從一個較小的方案無痛過渡到更優惠的方案。</p>
                
                <div class="flex flex-col md:flex-row justify-center items-center">
                    
                    <div class="flowchart-node border-blue-500">
                        <h3 class="font-bold text-lg">先買 36 堂</h3>
                        <p class="text-sm text-gray-500">($1580/堂)</p>
                    </div>

                    <div class="flex flex-col items-center my-4 md:hidden">
                        <div class="w-px h-6 bg-gray-400"></div>
                        <span class="text-sm font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full">未來決定續上</span>
                        <div class="w-px h-6 bg-gray-400"></div>
                    </div>
                    
                    <div class="hidden md:flex flex-col items-center flex-grow px-4">
                        <span class="text-sm font-medium text-green-600 mb-1">未來決定續上</span>
                        <span class="text-3xl font-bold text-blue-500">+</span>
                    </div>

                    <div class="flowchart-node border-orange-500">
                        <h3 class="font-bold text-lg">補差額</h3>
                        <p class="text-sm text-gray-500">(不需重買)</p>
                    </div>

                    <div class="flex flex-col items-center my-4 md:hidden">
                        <div class="w-px h-6 bg-gray-400"></div>
                        <span class="text-sm font-medium text-gray-600 bg-gray-100 px-2 py-1 rounded-full">即可</span>
                        <div class="w-px h-6 bg-gray-400"></div>
                    </div>

                    <div class="hidden md:flex flex-col items-center flex-grow px-4">
                        <span class="text-sm font-medium text-gray-600 mb-1">即可</span>
                        <span class="text-3xl font-bold text-blue-500">=</span>
                    </div>

                    <div class="flowchart-node border-green-500 bg-green-50">
                        <h3 class="font-bold text-lg">升級至 72 堂</h3>
                        <p class="text-sm text-green-600">($1480/堂)</p>
                    </div>
                </div>
            </section>

            <section id="comparison">
                <div class="text-center mb-8">
                    <h2 class="text-2xl md:text-3xl font-bold">費用對決：省錢策略大公開</h2>
                    <p class="text-gray-600 mt-2">不同的購買策略，成本天差地遠。這裡我們以「上滿72堂課」為目標，直接比較兩種方法的總花費。</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 bg-white rounded-2xl shadow-lg p-6 md:p-8">
                         <h3 class="text-xl font-bold mb-4">目標72堂課：總花費比較</h3>
                        <div class="chart-container h-80 md:h-96">
                            <canvas id="costComparisonChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-blue-600 text-white rounded-2xl shadow-lg p-6 md:p-8 flex flex-col justify-center items-center text-center">
                        <h3 class="text-xl font-bold mb-4">聰明選擇</h3>
                        <p class="text-blue-200 mb-6">選擇「升級」方案，與分次購買相比...</p>
                        <div class="text-6xl font-bold">省下</div>
                        <div class="text-8xl font-bold my-2">$7,200</div>
                        <p class="text-blue-200 mt-6">這筆錢足夠您多上好幾堂課！</p>
                    </div>
                </div>
            </section>

            <section id="recommendation" class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold mb-2">總結：最佳起手式</h2>
                <p class="text-gray-600 mb-6">綜合考量彈性、價格與使用週期，教練的建議非常中肯。36堂課方案是平衡前期投入與長期優惠的最佳選擇。</p>
                <div class="flex flex-col md:flex-row items-center gap-8">
                    <div class="chart-container h-64 w-64 md:h-72 md:w-72 flex-shrink-0">
                         <canvas id="recommendationChart"></canvas>
                    </div>
                    <div class="text-left">
                        <h3 class="text-xl font-bold text-blue-600 mb-3">為什麼推薦「36堂可升級方案」？</h3>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <span class="text-green-500 mr-3 mt-1">✔</span>
                                <div><strong class="font-semibold">保留優惠權利：</strong>鎖定未來用更低單價升級的資格，避免日後花冤枉錢。</div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-green-500 mr-3 mt-1">✔</span>
                                <div><strong class="font-semibold">降低初期門檻：</strong>無需一次投入大筆資金，讓您能更輕鬆地開始健身旅程。</div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-green-500 mr-3 mt-1">✔</span>
                                 <div><strong class="font-semibold">使用週期理想：</strong>以正常頻率上課約可使用近一年，足夠培養穩定的運動習慣並看見成效。</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        const vibrantPalette = {
            blue: 'rgba(0, 123, 255, 0.8)',
            blue_solid: 'rgb(0, 123, 255)',
            orange: 'rgba(255, 159, 64, 0.8)',
            orange_solid: 'rgb(255, 159, 64)',
            green: 'rgba(75, 192, 192, 0.8)',
            green_solid: 'rgb(75, 192, 192)',
            pink: 'rgba(232, 62, 140, 0.8)',
            pink_solid: 'rgb(232, 62, 140)',
            yellow: 'rgba(255, 205, 86, 0.8)',
            yellow_solid: 'rgb(255, 205, 86)',
            gray: 'rgba(201, 203, 207, 0.8)',
            gray_solid: 'rgb(201, 203, 207)'
        };

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };

        const wrapLabel = (label, maxLength = 16) => {
            if (label.length <= maxLength) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + ' ' + word).trim().length > maxLength) {
                    lines.push(currentLine.trim());
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            }
            if (currentLine) {
                lines.push(currentLine.trim());
            }
            return lines;
        };
        
        const commonChartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        font: {
                            family: "'Noto Sans TC', sans-serif",
                            size: 14,
                        }
                    }
                },
                tooltip: {
                    callbacks: {
                        title: tooltipTitleCallback
                    },
                    titleFont: {
                        family: "'Noto Sans TC', sans-serif",
                        size: 14,
                    },
                    bodyFont: {
                        family: "'Noto Sans TC', sans-serif",
                        size: 12,
                    }
                }
            },
            scales: {
                x: {
                    ticks: {
                        font: {
                            family: "'Noto Sans TC', sans-serif",
                            size: 12
                        }
                    },
                    grid: {
                      display: false
                    }
                },
                y: {
                    ticks: {
                        font: {
                            family: "'Noto Sans TC', sans-serif",
                            size: 12
                        }
                    }
                }
            }
        };

        new Chart(document.getElementById('pricePerSessionChart'), {
            type: 'bar',
            data: {
                labels: ['96 堂', '72 堂 / 48 堂', '36 堂 / 24 堂'],
                datasets: [{
                    label: '每堂課單價 (NT$)',
                    data: [1380, 1480, 1580],
                    backgroundColor: [vibrantPalette.green, vibrantPalette.blue, vibrantPalette.orange],
                    borderColor: [vibrantPalette.green_solid, vibrantPalette.blue_solid, vibrantPalette.orange_solid],
                    borderWidth: 2,
                    borderRadius: 5,
                }]
            },
            options: {
                ...commonChartOptions,
                indexAxis: 'y',
                plugins: {
                    ...commonChartOptions.plugins,
                    legend: {
                        display: false
                    }
                },
                 scales: {
                    y: {
                        ticks: {
                            font: {
                                family: "'Noto Sans TC', sans-serif",
                                size: 14,
                                weight: 'bold'
                            }
                        },
                         grid: {
                            display: false
                        }
                    },
                    x: {
                       ticks: {
                           callback: function(value, index, values) {
                               return '$' + value;
                           },
                           font: {
                               family: "'Noto Sans TC', sans-serif",
                               size: 12
                           }
                       }
                    }
                }
            }
        });
        
        new Chart(document.getElementById('costComparisonChart'), {
            type: 'bar',
            data: {
                labels: ['目標：上滿72堂課'],
                datasets: [
                    {
                        label: '策略A：分三次買24堂',
                        data: [113760],
                        backgroundColor: vibrantPalette.orange,
                        borderColor: vibrantPalette.orange_solid,
                        borderWidth: 2,
                        borderRadius: 5,
                    },
                    {
                        label: '策略B：先買36堂再升級',
                        data: [106560],
                        backgroundColor: vibrantPalette.green,
                        borderColor: vibrantPalette.green_solid,
                        borderWidth: 2,
                        borderRadius: 5,
                    }
                ]
            },
            options: {
                ...commonChartOptions,
                 scales: {
                    x: {
                        ticks: {
                           display: false
                        },
                        grid: {
                          display: false
                        }
                    },
                    y: {
                       ticks: {
                           callback: function(value, index, values) {
                               return 'NT$ ' + new Intl.NumberFormat().format(value);
                           },
                            font: {
                               family: "'Noto Sans TC', sans-serif",
                               size: 12
                           }
                       }
                    }
                }
            }
        });
        
        new Chart(document.getElementById('recommendationChart'), {
            type: 'doughnut',
            data: {
                labels: ['建議方案 (36堂)', '其他考量'],
                datasets: [{
                    label: '方案佔比',
                    data: [80, 20],
                    backgroundColor: [vibrantPalette.blue, vibrantPalette.gray],
                    borderColor: ['#ffffff'],
                    borderWidth: 4,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                 plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: {
                                family: "'Noto Sans TC', sans-serif",
                                size: 14,
                            }
                        }
                    },
                    tooltip: {
                         callbacks: {
                            title: tooltipTitleCallback
                        }
                    }
                }
            }
        });

    </script>
</body>
</html>

